{"version":3,"sources":["../../src/index.ts","../../src/components/editor/editor.tsx","../../src/components/editor/frame/main.tsx","../../src/components/editor/toolbar/main.tsx","../../src/components/editor/toolbar/ui.tsx","../../src/components/icons.tsx","../../src/components/ui/toggle-group.tsx","../../src/lib/utils.ts","../../src/components/ui/toggle.tsx","../../src/components/ui/separator.tsx","../../src/components/ui/tooltip.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/dialog.tsx","../../src/components/ui/popover.tsx","../../src/components/ui/input.tsx","../../src/components/ui/button.tsx","../../src/components/ui/tabs.tsx","../../src/components/ui/scroll-area.tsx","../../src/components/editor/ToolbarSection.tsx","../../src/components/editor/toolbar/toolbar.ts","../../src/components/ui/skeleton.tsx","../../src/components/editor/loader.tsx","../../src/components/richtext/provider.tsx","../../src/components/richtext/toolbar/ToolbarChain.tsx","../../src/core/chain.ts","../../src/components/richtext/ui/table-picker.tsx","../../src/components/richtext/toolbar/toolbar.tsx","../../src/hooks/chain-execute.ts","../../src/components/richtext/ui/history.tsx","../../src/components/richtext/ui/text-style.tsx","../../src/components/richtext/ui/color-picker.tsx","../../src/components/richtext/ui/text-format.tsx","../../src/components/richtext/ui/list-selector.tsx","../../src/components/richtext/ui/indent-outdent.tsx","../../src/components/richtext/ui/text-aligner.tsx","../../src/components/richtext/editor.tsx"],"sourcesContent":["// src/index.ts\n\nexport type * from \"./types/globals\";\nimport \"./app/globals.css\";\nexport * from \"./components\";\n","\"use client\";\nimport * as React from \"react\";\nimport { EditorFrame } from \"./frame\";\nimport { Toolbar } from \"./toolbar\";\nimport { EditorSkeleton } from \"./loader\";\nimport { cn } from \"@/lib/utils\";\n\nexport const RichtextEditor: React.FC<RichtextEditorProps> = ({\n  initialContent = \"Start typing...\",\n  toolbar,\n  loader = \"skeleton\",\n}) => {\n  const editorRef = React.useRef<EditorFrameHandle>(null);\n  const [isMounted, setIsMounted] = React.useState(false);\n  const [isFocused, setIsFocused] = React.useState(false);\n  const [activeFormats, setActiveFormats] = React.useState<Record<string, any>>(\n    {\n      block: \"p\",\n    }\n  );\n\n  React.useEffect(() => {\n    const timer = setTimeout(() => setIsMounted(true), 200);\n    return () => clearTimeout(timer);\n  }, []);\n\n  React.useEffect(() => {\n    const handleFormatChange = (e: any) => setActiveFormats(e.detail);\n    window.addEventListener(\"editor-format-change\", handleFormatChange);\n    return () =>\n      window.removeEventListener(\"editor-format-change\", handleFormatChange);\n  }, []);\n\n  React.useEffect(() => {\n    if (!editorRef.current) return;\n    const unsubFocus = editorRef.current?.subscribeFocus(() =>\n      setIsFocused(true)\n    );\n    const unsubBlur = editorRef.current?.subscribeBlur(() =>\n      setIsFocused(false)\n    );\n    return () => {\n      unsubFocus();\n      unsubBlur();\n    };\n  }, [isMounted]);\n\n  const handleCommand = (cmd: string, value?: string) => {\n    editorRef.current?.handleCommand(cmd, value);\n  };\n\n  if (!isMounted) return <EditorSkeleton />;\n\n  return (\n    <div\n      className={cn(\n        \"border border-border w-full rounded-md overflow-hidden bg-inherit transition-all duration-300\",\n        isFocused && \"ring-1 ring-blue-500\"\n      )}\n    >\n      <Toolbar\n        {...toolbar}\n        onCommand={handleCommand}\n        activeFormats={activeFormats}\n      />\n      <EditorFrame ref={editorRef} initialContent={initialContent} />\n    </div>\n  );\n};\n","\"use client\";\nimport * as React from \"react\";\n\nexport const EditorFrame = React.forwardRef<\n  EditorFrameHandle,\n  EditorFrameProps\n>(({ initialContent = \"<p>Start typing...</p>\" }, ref) => {\n  const iframeRef = React.useRef<HTMLIFrameElement>(null);\n  const [doc, setDoc] = React.useState<Document | null>(null);\n\n  const focusListeners = React.useRef<(() => void)[]>([]);\n  const blurListeners = React.useRef<(() => void)[]>([]);\n\n  React.useEffect(() => {\n    const iframe = iframeRef.current;\n    if (!iframe) return;\n\n    const iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;\n    if (!iframeDoc) return;\n\n    iframeDoc.open();\n    iframeDoc.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <style>\n            body {\n              font-family: system-ui, sans-serif;\n              padding: 12px;\n              margin: 0;\n              min-height: 100%;\n              color: #111;\n              line-height: 1.6;\n              background: transparent;\n              height: 320px;\n            }\n            h1, h2, h3, h4, h5, h6 { margin: 0.5em 0; }\n            p { margin: 0.5em 0; }\n            a { color: #0ea5e9; text-decoration: underline; }\n            blockquote { border-left: 3px solid #ddd; padding-left: 1em; color: #555; font-style: italic; }\n          </style>\n        </head>\n        <body contenteditable=\"true\">${initialContent}</body>\n      </html>\n    `);\n    iframeDoc.close();\n    setDoc(iframeDoc);\n  }, []);\n\n  // ðŸ”¹ Real-time selection listener\n  React.useEffect(() => {\n    if (!doc) return;\n\n    let selectionTimeout: any;\n    const handleSelectionChange = () => {\n      clearTimeout(selectionTimeout);\n      selectionTimeout = setTimeout(() => {\n        const selection = doc.getSelection();\n        if (!selection || selection.rangeCount === 0) return;\n\n        const range = selection.getRangeAt(0);\n        const node = range.startContainer.parentElement;\n        if (!node) return;\n\n        const block =\n          node\n            .closest(\"h1,h2,h3,h4,h5,h6,p,blockquote,pre,div\")\n            ?.tagName.toLowerCase() || \"p\";\n\n        const formats = {\n          block,\n          bold: doc.queryCommandState(\"bold\"),\n          italic: doc.queryCommandState(\"italic\"),\n          underline: doc.queryCommandState(\"underline\"),\n          strikeThrough: doc.queryCommandState(\"strikeThrough\"),\n          justifyStart: doc.queryCommandState(\"justifyLeft\"),\n          justifyCenter: doc.queryCommandState(\"justifyCenter\"),\n          justifyEnd: doc.queryCommandState(\"justifyRight\"),\n          foreColor: doc.queryCommandValue(\"foreColor\"),\n          link: !!node.closest(\"a\"),\n        };\n\n        window.dispatchEvent(\n          new CustomEvent(\"editor-format-change\", { detail: formats })\n        );\n      }, 50);\n    };\n\n    doc.addEventListener(\"selectionchange\", handleSelectionChange);\n    return () =>\n      doc.removeEventListener(\"selectionchange\", handleSelectionChange);\n  }, [doc]);\n\n  // expose methods\n  React.useImperativeHandle(ref, () => ({\n    handleCommand: (cmd: string, value?: string) => {\n      if (!doc) return;\n      doc.body.focus();\n\n      if (cmd.startsWith(\"formatBlock:\")) {\n        const tag = cmd.split(\":\")[1];\n        doc.execCommand(\"formatBlock\", false, `<${tag}>`);\n        return;\n      }\n\n      switch (cmd) {\n        case \"bold\":\n        case \"italic\":\n        case \"underline\":\n        case \"strikeThrough\":\n        case \"undo\":\n        case \"redo\":\n          doc.execCommand(cmd);\n          break;\n        case \"justifyStart\":\n          doc.execCommand(\"justifyLeft\");\n          break;\n        case \"justifyCenter\":\n          doc.execCommand(\"justifyCenter\");\n          break;\n        case \"justifyEnd\":\n          doc.execCommand(\"justifyRight\");\n          break;\n        case \"color\":\n          doc.execCommand(\"foreColor\", false, value ?? \"#000\");\n          break;\n        case \"link\": {\n          const url = prompt(\"Enter URL:\");\n          if (url) doc.execCommand(\"createLink\", false, url);\n          break;\n        }\n        case \"image\": {\n          const img = prompt(\"Enter Image URL:\");\n          if (img) doc.execCommand(\"insertImage\", false, img);\n          break;\n        }\n      }\n    },\n    getContent: () => doc?.body.innerHTML || \"\",\n    setContent: (html: string) => {\n      if (doc) doc.body.innerHTML = html;\n    },\n    subscribeFocus: (cb: () => void) => {\n      focusListeners.current.push(cb);\n      return () => {\n        focusListeners.current = focusListeners.current.filter((f) => f !== cb);\n      };\n    },\n    subscribeBlur: (cb: () => void) => {\n      blurListeners.current.push(cb);\n      return () => {\n        blurListeners.current = blurListeners.current.filter((f) => f !== cb);\n      };\n    },\n  }));\n\n  React.useEffect(() => {\n    if (!doc) return;\n    const handleFocus = () => focusListeners.current.forEach((cb) => cb());\n    const handleBlur = () => blurListeners.current.forEach((cb) => cb());\n    doc.body.addEventListener(\"focus\", handleFocus);\n    doc.body.addEventListener(\"blur\", handleBlur);\n    return () => {\n      doc.body.removeEventListener(\"focus\", handleFocus);\n      doc.body.removeEventListener(\"blur\", handleBlur);\n    };\n  }, [doc]);\n\n  return (\n    <div className=\"w-full min-h-[350px] border-t border-border bg-background relative overflow-hidden\">\n      <iframe\n        ref={iframeRef}\n        className=\"w-full h-[350px] bg-transparent outline-none border-0\"\n        sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms allow-modals\"\n      />\n    </div>\n  );\n});\n\nEditorFrame.displayName = \"EditorFrame\";\n","\"use client\";\nimport * as React from \"react\";\nimport {\n  HistoryFormat,\n  MediaAndLink,\n  MoreTools,\n  ResponsiveStyleFormat,\n  Space,\n  TextAdjust,\n  TextAlign,\n  TextFormat,\n} from \"./ui\";\nimport { ToolbarSection } from \"../ToolbarSection\";\nimport { allTools } from \"./toolbar\";\n\n// Define the rendering order\nconst TOOL_SECTIONS: AllToolTypes[] = [\n  \"historyTabs\",\n  \"textFormatTabs\",\n  \"textStyleTabs\",\n  \"textAlignTabs\",\n  \"mediaAndLinksTabs\",\n  \"textAdjustTabs\",\n  \"extraTabs\",\n];\n\nexport const Toolbar: React.FC<\n  ToolbarProps & { activeFormats?: Record<string, boolean> }\n> = ({ formatting, onCommand, mediaUrl, activeFormats }) => {\n  const [_open, _setOpen] = React.useState(false);\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const sectionRefs = React.useRef<Record<AllToolTypes, HTMLDivElement | null>>(\n    {\n      historyTabs: null,\n      textFormatTabs: null,\n      textStyleTabs: null,\n      textAlignTabs: null,\n      mediaAndLinksTabs: null,\n      textAdjustTabs: null,\n      extraTabs: null,\n    }\n  );\n\n  const [hidden, setHidden] = React.useState<AllToolTypes[]>([]);\n\n  React.useEffect(() => {\n    if (!containerRef.current) return;\n    const container = containerRef.current;\n\n    const measure = () => {\n      const containerWidth = container.clientWidth;\n      const reserved = 64; // space for MoreTools + margin\n      let used = 0;\n      const visible: AllToolTypes[] = [];\n\n      // Measure in order, hiding from rightmost section\n      for (const key of TOOL_SECTIONS) {\n        const el = sectionRefs.current[key];\n        if (!el) continue;\n\n        const width = el.offsetWidth;\n        if (used + width + reserved < containerWidth) {\n          visible.push(key);\n          used += width;\n        } else {\n          break; // stop when limit hit\n        }\n      }\n\n      // Hide remaining sections from rightmost first\n      const newlyHidden = TOOL_SECTIONS.filter(\n        (k) => !visible.includes(k)\n      ).reverse();\n\n      // Smooth transitions â€” only update if truly changed\n      setHidden((prev) =>\n        JSON.stringify(prev) === JSON.stringify(newlyHidden)\n          ? prev\n          : newlyHidden\n      );\n    };\n\n    // Resize observer with debouncing\n    const ro = new ResizeObserver(() => {\n      window.requestAnimationFrame(measure);\n    });\n\n    ro.observe(container);\n    window.addEventListener(\"resize\", measure);\n    const id = window.requestAnimationFrame(measure);\n\n    return () => {\n      window.cancelAnimationFrame(id);\n      window.removeEventListener(\"resize\", measure);\n      ro.disconnect();\n    };\n  }, []);\n\n  const show = (sec: AllToolTypes) => !hidden.includes(sec);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"relative flex items-center bg-muted/30 px-2 py-1 overflow-hidden transition-all duration-200\n                 after:pointer-events-none after:absolute after:right-10 after:top-0 after:h-full after:w-6\n                 after:bg-linear-to-l after:from-muted/25 after:to-transparent\"\n      aria-label=\"Editor Toolbar\"\n    >\n      {/* HISTORY */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.historyTabs = el;\n        }}\n        section=\"historyTabs\"\n        className={`${\n          show(\"historyTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <HistoryFormat buttons={allTools?.historyTabs} onCommand={onCommand} />\n        <Space />\n      </ToolbarSection>\n\n      {/* TEXT FORMAT */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.textFormatTabs = el;\n        }}\n        section=\"textFormatTabs\"\n        className={`${\n          show(\"textFormatTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <TextFormat\n          formatting={formatting}\n          buttons={allTools.textFormatTabs}\n          onFormat={(f) => onCommand?.(f)}\n          activeFormats={activeFormats}\n        />\n      </ToolbarSection>\n\n      {/* TEXT STYLE */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.textStyleTabs = el;\n        }}\n        section=\"textStyleTabs\"\n        className={`${\n          show(\"textStyleTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <ResponsiveStyleFormat\n          buttons={allTools.textStyleTabs!}\n          onCommand={onCommand}\n          activeFormats={activeFormats}\n        />\n      </ToolbarSection>\n\n      {/* TEXT ALIGN */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.textAlignTabs = el;\n        }}\n        section=\"textAlignTabs\"\n        className={`${\n          show(\"textAlignTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <Space />\n        <TextAlign\n          buttons={allTools.textAlignTabs}\n          onCommand={onCommand}\n          activeFormats={activeFormats}\n        />\n      </ToolbarSection>\n\n      {/* MEDIA */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.mediaAndLinksTabs = el;\n        }}\n        section=\"mediaAndLinksTabs\"\n        className={`${\n          show(\"mediaAndLinksTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <Space />\n        <MediaAndLink\n          buttons={allTools.mediaAndLinksTabs}\n          onCommand={onCommand}\n          mediaUrl={mediaUrl}\n          activeFormats={activeFormats ?? {}}\n        />\n      </ToolbarSection>\n\n      {/* TEXT ADJUST */}\n      <ToolbarSection\n        ref={(el) => {\n          sectionRefs.current.textAdjustTabs = el;\n        }}\n        section=\"textAdjustTabs\"\n        className={`${\n          show(\"textAdjustTabs\")\n            ? \"opacity-100\"\n            : \"opacity-0 pointer-events-none absolute -left-full\"\n        }`}\n      >\n        <Space />\n        <TextAdjust buttons={allTools.textAdjustTabs} onCommand={onCommand} />\n      </ToolbarSection>\n\n      {/* MoreTools - stays visible */}\n\n      <div className=\"mr-auto pr-1 flex items-center gap-1\">\n        <Space />\n        <MoreTools\n          tools={allTools}\n          showTools={hidden}\n          show={_open}\n          onShow={() => _setOpen(!_open)}\n        />\n      </div>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { Icons } from \"@/components/icons\";\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\";\nimport { ColorHighlighter } from \"@/components/richtext/ui/color-picker\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Check, ChevronDown } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Upload, ImageIcon } from \"lucide-react\";\nimport { Toggle } from \"@/components/ui/toggle\";\n\nexport const Space = () => {\n  return (\n    <Separator\n      orientation=\"vertical\"\n      role=\"separator\"\n      style={{ height: \"1.5rem\" }}\n      className=\"border border-border border-l-0 border-y-0 w-px mx-1\"\n    />\n  );\n};\n\nexport const ButtonWithTooltip = ({\n  label,\n  icon,\n  withIcon = false,\n  isArrow = false,\n  ...props\n}: ButtonWIthTooltipProps) => {\n  const Icon = icon ? Icons[icon] : null;\n  return (\n    <Tooltip>\n      <TooltipTrigger className=\"flex items-center gap-1 cursor-pointer\">\n        {Icon ? <Icon className=\"w-4 h-4\" strokeWidth={2} /> : null}\n        {isArrow && (\n          <ChevronDown\n            className=\"w-4 h-4 text-muted-foreground\"\n            strokeWidth={2}\n          />\n        )}\n      </TooltipTrigger>\n      <TooltipContent {...props}>{label}</TooltipContent>\n    </Tooltip>\n  );\n};\n\nexport const HistoryFormat: React.FC<HistoryFormatProps> = ({\n  buttons,\n  onCommand,\n}) => {\n  return (\n    <ToggleGroup type=\"single\" variant=\"default\">\n      {buttons?.map((btn) => {\n        return (\n          <ToggleGroupItem\n            value={btn.cmd!}\n            key={btn.cmd}\n            onClick={() => onCommand?.(btn.cmd!)}\n            className=\"px-2 w-7 h-7 lg:w-8 lg:h-8\"\n          >\n            <ButtonWithTooltip label={btn.label} icon={btn.icon} />\n          </ToggleGroupItem>\n        );\n      })}\n    </ToggleGroup>\n  );\n};\n\nexport const TextFormat: React.FC<\n  TextFormatProps & { activeFormats?: Record<string, boolean> }\n> = ({\n  formatting = [\"h1\", \"h2\", \"h3\", \"p\"],\n  onFormat,\n  buttons,\n  activeFormats,\n}) => {\n  const [activeFormat, setActiveFormat] = React.useState<string>(\"Paragraph\");\n\n  React.useEffect(() => {\n    if (activeFormats?.block) {\n      const found = buttons?.find((btn) =>\n        btn.cmd\n          ?.toLowerCase()\n          .includes(String(activeFormats.block).toLowerCase())\n      );\n      setActiveFormat(found ? found.label! : \"Paragraph\");\n    }\n  }, [activeFormats]);\n\n  // filter available buttons based on allowed formats\n  const formatBlocks = buttons?.filter((btn) =>\n    formatting.includes(btn.cmd?.split(\":\")[1] as formatting)\n  );\n\n  const handleFormatChange = (format: ButtonProps) => {\n    setActiveFormat(format.label!);\n    onFormat?.(format.cmd!);\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger className=\"focus:ring-0 min-w-24 px-1 h-7 lg:h-8 focus:outline-0 focus-visible:ring-0 focus-visible:outline-0 hover:bg-muted hover:text-muted-foreground rounded data-[state=open]:bg-muted data-[state=open]:text-muted-foreground\">\n        <Tooltip>\n          <TooltipTrigger className=\"flex items-center gap-1 text-sm font-medium text-muted-foreground\">\n            {activeFormat}\n            <ChevronDown\n              className=\"w-4 h-4 text-muted-foreground/80\"\n              strokeWidth={2}\n            />\n          </TooltipTrigger>\n          <TooltipContent>Formatting</TooltipContent>\n        </Tooltip>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        className=\"rounded space-y-0.5 min-w-48\"\n        align=\"start\"\n      >\n        {formatBlocks?.map((btn) => (\n          <DropdownMenuItem\n            key={btn.cmd}\n            onClick={() => handleFormatChange?.(btn)}\n            className={cn(\n              \"rounded py-1\",\n              btn?.style,\n              activeFormat === btn.label && \"bg-accent\"\n            )}\n          >\n            {btn.label}\n            {activeFormat === btn.label && (\n              <Check className=\"ml-auto size-4 text-blue-600\" />\n            )}\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nexport const StyleFormat: React.FC<\n  TextStyleFormatProps & { activeFormats?: Record<string, boolean> }\n> = ({ buttons, onCommand, activeFormats }) => {\n  return (\n    <ToggleGroup type=\"single\" variant=\"default\">\n      {buttons?.map((btn) => {\n        return (\n          <ToggleGroupItem\n            value={btn.cmd!}\n            key={btn.cmd}\n            onClick={() => onCommand?.(btn.cmd!)}\n            className={cn(\n              \"px-2 w-7 h-7 lg:w-8 lg:h-8\",\n              activeFormats?.[btn.cmd!] && \"bg-accent text-accent-foreground\"\n            )}\n          >\n            <ButtonWithTooltip label={btn.label} icon={btn.icon} />\n          </ToggleGroupItem>\n        );\n      })}\n    </ToggleGroup>\n  );\n};\n\nexport const ResponsiveStyleFormat: React.FC<\n  ResponsiveStyleFormatProps & { activeFormats?: Record<string, boolean> }\n> = ({ buttons, onCommand, activeFormats }) => {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const [visibleCount, setVisibleCount] = React.useState(buttons.length);\n\n  React.useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    // Use ResizeObserver for dynamic width tracking\n    const ro = new ResizeObserver(() => {\n      const containerWidth = container.clientWidth;\n      const buttonWidth = 42; // estimated average px per style button\n      const maxButtons = Math.floor(containerWidth / buttonWidth);\n\n      // ðŸ”¹ When thereâ€™s enough space â†’ show more buttons one by one\n      // ðŸ”¹ When shrinking â†’ hide one by one\n      setVisibleCount((prev) => {\n        if (maxButtons >= buttons.length) return buttons.length;\n        if (maxButtons > prev) return prev + 1;\n        if (maxButtons < prev) return Math.max(4, prev - 1);\n        return prev;\n      });\n    });\n\n    ro.observe(container);\n    return () => ro.disconnect();\n  }, [buttons.length]);\n\n  const visibleButtons = buttons.slice(0, visibleCount);\n\n  return (\n    <div ref={containerRef} className=\"flex items-center transition-all\">\n      <StyleFormat\n        buttons={visibleButtons}\n        onCommand={onCommand}\n        activeFormats={activeFormats}\n      />\n    </div>\n  );\n};\n\nexport const TextAlign: React.FC<\n  TextAlignProps & { activeFormats?: Record<string, boolean> }\n> = ({ buttons, onCommand, activeFormats }) => {\n  const activeAlign = activeFormats?.justifyCenter\n    ? \"justifyCenter\"\n    : activeFormats?.justifyEnd\n    ? \"justifyEnd\"\n    : \"justifyStart\";\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger className=\"font-medium h-7 px-1.5 min-w-7 hover:bg-muted hover:text-muted-foreground rounded data-[state=open]:bg-muted data-[state=open]:text-muted-foreground focus-visible:ring-0 focus:outline-0\">\n        <ButtonWithTooltip\n          label=\"Text Align\"\n          icon={activeAlign as ButtonIcon}\n          isArrow\n        />\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"w-full\">\n        {buttons?.map((btn) => {\n          return (\n            <DropdownMenuItem\n              key={btn.cmd}\n              onClick={() => {\n                console.log(btn.cmd);\n                onCommand?.(btn.cmd!);\n              }}\n              className=\"px-2 w-7 h-7 lg:w-8 lg:h-8\"\n            >\n              <ButtonWithTooltip\n                label={btn.label}\n                icon={btn.icon}\n                side=\"left\"\n              />\n            </DropdownMenuItem>\n          );\n        })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nexport const MediaAndLink: React.FC<\n  MediaLinkProps & { activeFormats: Record<string, boolean | string> }\n> = ({ buttons, onCommand, mediaUrl, activeFormats }) => {\n  const [linkOpen, setLinkOpen] = React.useState(false);\n  return (\n    <ToggleGroup type=\"single\" variant=\"default\">\n      {buttons?.map((btn) => {\n        if (btn.cmd === \"link\") {\n          return (\n            <ToggleGroupItem\n              key={btn.cmd}\n              value={btn.cmd}\n              data-state={\n                btn.cmd === \"link\" && activeFormats?.link ? \"on\" : \"off\"\n              }\n              className={cn(\n                \"px-2 w-7 h-7 lg:w-8 lg:h-8\",\n                btn.cmd === \"link\" &&\n                  activeFormats?.link &&\n                  \"bg-accent text-accent-foreground\"\n              )}\n            >\n              <DropdownMenu open={linkOpen} onOpenChange={setLinkOpen}>\n                <DropdownMenuTrigger className=\"font-medium px-1 min-w-7 min-h-7 hover:bg-muted hover:text-muted-foreground rounded data-[state=open]:bg-muted data-[state=open]:text-muted-foreground\">\n                  <ButtonWithTooltip\n                    label={btn.label}\n                    icon={btn.icon as ButtonIcon}\n                  />\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\" className=\"min-w-64\">\n                  <DropdownMenuLabel className=\"px-1\">URL</DropdownMenuLabel>\n                  <Input\n                    className=\"h-7 py-2 px-2 rounded focus-visible:ring-0 focus-visible:outline-0\"\n                    size={14}\n                  />\n                  <div className=\"flex items-center gap-2 justify-end mt-1.5\">\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => setLinkOpen(!linkOpen)}\n                      size=\"sm\"\n                      className=\"rounded-sm\"\n                    >\n                      Cancel\n                    </Button>\n                    <Button\n                      onClick={() => setLinkOpen(!linkOpen)}\n                      size=\"sm\"\n                      variant=\"primary\"\n                      className=\"rounded-sm\"\n                    >\n                      Insert\n                    </Button>\n                  </div>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </ToggleGroupItem>\n          );\n        }\n        return (\n          <ToggleGroupItem\n            value={btn.cmd!}\n            key={btn.cmd}\n            className=\"px-2 w-7 h-7 lg:w-8 lg:h-8\"\n          >\n            <MediaHandler mediaUrl={mediaUrl} />\n          </ToggleGroupItem>\n        );\n      })}\n    </ToggleGroup>\n  );\n};\n\nexport const MediaHandler: React.FC<MediaHanderProps> = ({\n  onCommand,\n  mediaUrl = false,\n}) => {\n  const [open, setOpen] = React.useState(false);\n  const [imageUrl, setImageUrl] = React.useState(\"\");\n  const [uploadedImage, setUploadedImage] = React.useState<string | null>(null);\n  const [activeTab, setActiveTab] = React.useState(\"upload\");\n\n  // Fake DB images (youâ€™ll replace with real fetch)\n  const [dbImages, setDbImages] = React.useState<string[]>([\n    \"https://picsum.photos/300/200?random=1\",\n    \"https://picsum.photos/300/200?random=2\",\n    \"https://picsum.photos/300/200?random=3\",\n    \"https://picsum.photos/300/200?random=4\",\n  ]);\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setUploadedImage(e.target?.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleInsertImage = (url: string) => {\n    onCommand?.(\"image\", url);\n    setOpen(false);\n    setImageUrl(\"\");\n    setUploadedImage(null);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger>\n        <ButtonWithTooltip label=\"Media\" icon=\"image\" />\n      </DialogTrigger>\n\n      <DialogContent className=\"sm:max-w-lg rounded-lg p-0 overflow-hidden\">\n        <DialogHeader className=\"border-b px-4 py-3\">\n          <DialogTitle className=\"text-base font-semibold\">\n            Add Image\n          </DialogTitle>\n        </DialogHeader>\n\n        <Tabs\n          value={activeTab}\n          onValueChange={setActiveTab}\n          className=\"w-full px-4 pb-4\"\n        >\n          <TabsList className=\"grid grid-cols-2 mb-3 rounded-md bg-muted\">\n            <TabsTrigger value=\"upload\">Upload / URL</TabsTrigger>\n            <TabsTrigger value=\"library\">From Library</TabsTrigger>\n          </TabsList>\n\n          {/* --- Upload / URL Tab --- */}\n          <TabsContent value=\"upload\">\n            <div className=\"flex flex-col gap-4\">\n              {/* Local Upload */}\n              <div className=\"flex flex-col items-center justify-center border border-dashed rounded-md p-6 text-center cursor-pointer hover:border-primary transition\">\n                {!uploadedImage ? (\n                  <div className=\"relative flex flex-col items-center justify-center\">\n                    <Upload className=\"h-8 w-8 mb-2 text-muted-foreground\" />\n                    <p className=\"text-sm text-muted-foreground\">\n                      Click or drop image to upload\n                    </p>\n                    <Input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      className=\"opacity-0 absolute h-full w-full cursor-pointer\"\n                      onChange={handleFileUpload}\n                    />\n                  </div>\n                ) : (\n                  <div className=\"flex flex-col items-center gap-2\">\n                    <img\n                      src={uploadedImage}\n                      alt=\"Uploaded\"\n                      className=\"max-h-48 rounded border object-contain\"\n                    />\n                    <Button\n                      size=\"sm\"\n                      onClick={() => handleInsertImage(uploadedImage)}\n                    >\n                      Insert Image\n                    </Button>\n                  </div>\n                )}\n              </div>\n\n              {/* URL Input */}\n              <div className=\"space-y-2\">\n                <p className=\"text-xs text-muted-foreground\">\n                  Or insert via URL\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <Input\n                    placeholder=\"https://example.com/image.jpg\"\n                    value={imageUrl}\n                    onChange={(e) => setImageUrl(e.target.value)}\n                  />\n                  <Button\n                    onClick={() => handleInsertImage(imageUrl)}\n                    disabled={!imageUrl}\n                  >\n                    Insert\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* --- DB Image Library --- */}\n          <TabsContent value=\"library\">\n            <ScrollArea className=\"h-64 rounded border p-3\">\n              {dbImages.length > 0 ? (\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n                  {dbImages.map((img) => (\n                    <button\n                      key={img}\n                      onClick={() => handleInsertImage(img)}\n                      className=\"relative group rounded-md overflow-hidden border hover:ring-2 hover:ring-primary transition\"\n                    >\n                      <img\n                        src={img}\n                        alt=\"DB\"\n                        className=\"object-cover w-full h-28\"\n                      />\n                      <div className=\"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition\">\n                        <ImageIcon className=\"text-white w-5 h-5\" />\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-muted-foreground text-center py-6\">\n                  No images available in library.\n                </p>\n              )}\n            </ScrollArea>\n          </TabsContent>\n        </Tabs>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport const TextAdjust = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLProps<HTMLDivElement> & TextAdjustProps\n>(({ buttons, onCommand, className = \"\", ...props }, ref) => {\n  return (\n    <div ref={ref} {...props} className={`shrink-0 ${className}`}>\n      <ToggleGroup type=\"single\" variant=\"default\">\n        {buttons?.map((btn) => (\n          <ToggleGroupItem\n            key={btn.cmd}\n            value={btn.cmd!}\n            onClick={() => onCommand?.(btn.cmd!)}\n            className=\"px-2 w-7 h-7 lg:w-8 lg:h-8\"\n          >\n            <ButtonWithTooltip label={btn.label} icon={btn.icon} />\n          </ToggleGroupItem>\n        ))}\n      </ToggleGroup>\n    </div>\n  );\n});\n\nTextAdjust.displayName = \"TextAdjust\";\n\n// Final Hidden More Tools (for future use)\nexport const MoreTools: React.FC<MoreToolsProps> = ({\n  show,\n  onShow,\n  tools,\n  showTools,\n}) => {\n  const [_all, _setAll] = React.useState<ButtonProps[]>([]);\n  React.useEffect(() => {\n    if (!tools) return;\n    const uniqueTools = new Set<ButtonProps>();\n    Object.entries(tools).forEach(([key, value]) => {\n      const isHidden = showTools?.includes(key as AllToolTypes);\n      if (isHidden && value) {\n        value.forEach((item: ButtonProps) => uniqueTools.add(item));\n      }\n    });\n    _setAll(Array.from(uniqueTools));\n  }, [tools, showTools]);\n\n  return (\n    <Popover open={show} onOpenChange={onShow}>\n      <PopoverTrigger className=\"font-medium cursor-pointer h-7 px-1.5 min-w-7 hover:bg-muted hover:text-muted-foreground rounded data-[state=open]:bg-muted data-[state=open]:text-muted-foreground\">\n        <ButtonWithTooltip label=\"More..\" icon=\"moreHorizontal\" />\n      </PopoverTrigger>\n      <PopoverContent\n        align=\"end\"\n        className=\"p-0 px-1 py-1 rounded flex flex-wrap items-center gap-2\"\n      >\n        {_all?.length > 0 &&\n          _all.map((item) => (\n            <Toggle key={item.cmd} className=\"w-7 h-7 lg:w-8 lg:h-8 rounded\">\n              <ButtonWithTooltip label={item.label} icon={item.icon} />\n            </Toggle>\n          ))}\n        <Toggle className=\"w-7 h-7 lg:w-8 lg:h-8 rounded\">\n          <ButtonWithTooltip label=\"Reset\" icon=\"reset\" />\n        </Toggle>\n      </PopoverContent>\n    </Popover>\n  );\n};\n","import {\n  Baseline,\n  Bold,\n  Code2,\n  Ellipsis,\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n  Image,\n  Indent,\n  Italic,\n  Link,\n  List,\n  ListOrdered,\n  MoreHorizontal,\n  Outdent,\n  Palette,\n  Pilcrow,\n  Quote,\n  Redo2,\n  RotateCcw,\n  Strikethrough,\n  Superscript,\n  TableIcon,\n  TextAlignCenter,\n  TextAlignEnd,\n  TextAlignStart,\n  Underline,\n  Undo2,\n  Video,\n} from \"lucide-react\";\nexport const Icons = {\n  undo: Undo2,\n  redo: Redo2,\n  heading1: Heading1,\n  heading2: Heading2,\n  heading3: Heading3,\n  heading4: Heading4,\n  heading5: Heading5,\n  heading6: Heading6,\n  paragraph: Pilcrow,\n  blockquote: Quote,\n  bold: Bold,\n  underline: Underline,\n  italic: Italic,\n  strikeThrough: Strikethrough,\n  baseLine: Baseline,\n  palette: Palette,\n  justifyStart: TextAlignStart,\n  justifyCenter: TextAlignCenter,\n  justifyEnd: TextAlignEnd,\n  link: Link,\n  image: Image,\n  video: Video,\n  ellipsis: Ellipsis,\n  moreHorizontal: MoreHorizontal,\n  orderList: ListOrdered,\n  list: List,\n  indent: Indent,\n  outdent: Outdent,\n  table: TableIcon,\n  code: Code2,\n  superscript: Superscript,\n  reset: RotateCcw,\n} as const;\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\";\nimport { type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\nimport { toggleVariants } from \"@/components/ui/toggle\";\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants> & {\n    spacing?: number;\n  }\n>({\n  size: \"default\",\n  variant: \"default\",\n  spacing: 0,\n});\n\nfunction ToggleGroup({\n  className,\n  variant,\n  size,\n  spacing = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &\n  VariantProps<typeof toggleVariants> & {\n    spacing?: number;\n  }) {\n  return (\n    <ToggleGroupPrimitive.Root\n      data-slot=\"toggle-group\"\n      data-variant={variant}\n      data-size={size}\n      data-spacing={spacing}\n      style={{ \"--gap\": spacing } as React.CSSProperties}\n      className={cn(\n        \"group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs\",\n        className\n      )}\n      {...props}\n    >\n      <ToggleGroupContext.Provider value={{ variant, size, spacing }}>\n        {children}\n      </ToggleGroupContext.Provider>\n    </ToggleGroupPrimitive.Root>\n  );\n}\n\nfunction ToggleGroupItem({\n  className,\n  children,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &\n  VariantProps<typeof toggleVariants>) {\n  const context = React.useContext(ToggleGroupContext);\n\n  return (\n    <ToggleGroupPrimitive.Item\n      data-slot=\"toggle-group-item\"\n      data-variant={context.variant || variant}\n      data-size={context.size || size}\n      data-spacing={context.spacing}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        \"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10\",\n        \"data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  );\n}\n\nexport { ToggleGroup, ToggleGroupItem };\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Toggle, toggleVariants };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Separator };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  );\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-0 origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"../../lib/utils\";\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  );\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />;\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        primary: \"bg-blue-600 hover:bg-blue-600/70 text-white\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-7\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  );\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  );\n}\n\nexport { ScrollArea, ScrollBar };\n","// components/editor/ToolbarSection.tsx\nimport * as React from \"react\";\n\nexport const ToolbarSection = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & { section: AllToolTypes }\n>(({ section, className = \"\", children, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-section={section}\n      className={`flex items-center shrink-0 ${className}`}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n});\nToolbarSection.displayName = \"ToolbarSection\";\n","export const allTools: AllToolsProps = {\n  historyTabs: [\n    { cmd: \"undo\", label: \"Undo\", icon: \"undo\" },\n    { cmd: \"redo\", label: \"Redo\", icon: \"redo\" },\n  ],\n  textFormatTabs: [\n    {\n      cmd: \"formatBlock:p\",\n      label: \"Paragraph\",\n      style: \"text-base text-gray-800\",\n    },\n    {\n      cmd: \"formatBlock:h1\",\n      label: \"Heading 1\",\n      style: \"text-2xl font-bold text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:h2\",\n      label: \"Heading 2\",\n      style: \"text-xl font-semibold text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:h3\",\n      label: \"Heading 3\",\n      style: \"text-lg font-semibold text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:h4\",\n      label: \"Heading 4\",\n      style: \"text-base font-medium text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:h5\",\n      label: \"Heading 5\",\n      style: \"text-sm font-medium text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:h6\",\n      label: \"Heading 6\",\n      style: \"text-xs font-medium text-gray-900 leading-tight\",\n    },\n    {\n      cmd: \"formatBlock:blockquote\",\n      label: \"Blockquote\",\n      style:\n        \"pl-3 border-l-2 border-gray-400 italic text-gray-600 leading-snug\",\n    },\n  ],\n  textStyleTabs: [\n    { cmd: \"bold\", label: \"Bold\", icon: \"bold\" },\n    { cmd: \"italic\", label: \"Italic\", icon: \"italic\" },\n    { cmd: \"underline\", label: \"Underline\", icon: \"underline\" },\n    { cmd: \"color\", label: \"Color\", icon: \"palette\" },\n  ],\n  textAlignTabs: [\n    { cmd: \"justifyStart\", label: \"Start\", icon: \"justifyStart\" },\n    { cmd: \"justifyCenter\", label: \"Center\", icon: \"justifyCenter\" },\n    { cmd: \"justifyEnd\", label: \"End\", icon: \"justifyEnd\" },\n  ],\n  mediaAndLinksTabs: [\n    { cmd: \"link\", label: \"Link\", icon: \"link\" },\n    { cmd: \"image\", label: \"Image\", icon: \"image\" },\n  ],\n  textAdjustTabs: [\n    { cmd: \"orderedList\", label: \"List\", icon: \"orderList\" },\n    { cmd: \"unorderedList\", label: \"Bullet List\", icon: \"list\" },\n  ],\n  extraTabs: [\n    { cmd: \"indent\", label: \"Indent\", icon: \"indent\" },\n    { cmd: \"outdent\", label: \"Outdent\", icon: \"outdent\" },\n    { cmd: \"table\", label: \"Table\", icon: \"table\" },\n    { cmd: \"superScript\", label: \"Super Script\", icon: \"superscript\" },\n  ],\n};\n","import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","\"use client\";\nimport * as React from \"react\";\nimport { Skeleton } from \"../ui/skeleton\";\n\n/* ðŸ©¶ Skeleton Loader */\nexport const EditorSkeleton: React.FC<{ animation?: string }> = ({\n  animation = \"pulse\",\n}) => {\n  const base = \"w-full bg-muted\";\n  const animationClass =\n    animation === \"shine\"\n      ? \"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent\"\n      : \"animate-pulse\";\n\n  return (\n    <div\n      className={`border border-border w-full rounded-md overflow-hidden bg-background ${animationClass}`}\n    >\n      {/* Toolbar Skeleton */}\n      <div className=\"flex items-center gap-2 relative px-2 py-1\">\n        {[1, 2, 3, 4, 5, 6, 7, 8].map((width) => (\n          <Skeleton\n            className={`${base} h-7 ${\n              width === 3 ? \"w-16 lg:w-20\" : \"w-7 lg:w-8\"\n            }  lg:h-8`}\n            key={width}\n          />\n        ))}\n        <Skeleton className=\"absolute right-1\" />\n      </div>\n      <div className=\"h-px bg-border\" />\n      <div className={`${base} h-64`} />\n    </div>\n  );\n};\n\n/* âšª Dots Loader */\nexport const DotsLoader: React.FC = () => (\n  <div className=\"flex flex-col items-center justify-center h-48 w-full border border-border rounded-md bg-white\">\n    <div className=\"flex space-x-2\">\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]\" />\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]\" />\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce\" />\n    </div>\n    <p className=\"text-xs text-muted-foreground mt-3\">Loading editor...</p>\n  </div>\n);\n\n/* ðŸŒ€ Spinner Loader */\nexport const SpinnerLoader: React.FC = () => (\n  <div className=\"flex items-center justify-center h-48 w-full border border-border rounded-md bg-white\">\n    <div className=\"w-6 h-6 border-4 border-gray-300 border-t-gray-700 rounded-full animate-spin\" />\n  </div>\n);\n\n/* Tailwind CSS (add to globals.css or tailwind.config.js)\n---------------------------------------------------------\n@keyframes shimmer {\n  100% {\n    transform: translateX(100%);\n  }\n}\n--------------------------------------------------------- */\n","// src/editor/provider.tsx\n\"use client\";\nimport React, {\n  createContext,\n  useContext,\n  useRef,\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\n\n// âš™ï¸ Default state so TS knows all properties exist\nconst defaultCtx: EditorContextState = {\n  block: \"P\",\n  bold: false,\n  italic: false,\n  underline: false,\n  strike: false,\n  orderedList: false,\n  unorderedList: false,\n  justifyLeft: false,\n  justifyCenter: false,\n  justifyRight: false,\n  link: false,\n  foreColor: \"\",\n  backColor: \"\",\n  isHeading1: false,\n  isHeading2: false,\n  isHeading3: false,\n  isHeading4: false,\n  isHeading5: false,\n  isHeading6: false,\n  isParagraph: true,\n  isBlockquote: false,\n  isCodeBlock: false,\n  canUndo: false,\n  canRedo: false,\n  isIndented: false,\n};\n\nexport type EditorContextShape = {\n  html: string;\n  setHtml: (h: string) => void;\n  ctx: EditorContextState;\n  setCtx: React.Dispatch<React.SetStateAction<EditorContextState>>;\n  iframeRef: React.RefObject<HTMLIFrameElement>;\n  refreshCtx: () => void;\n};\n\nconst EditorContext = createContext<EditorContextShape | null>(null);\n\nexport const EditorProvider: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [html, setHtml] = useState(\"<p>Start typingâ€¦</p>\");\n  const [ctx, setCtx] = useState<EditorContextState>(defaultCtx);\n\n  // ðŸ§© Refresh context manually when needed\n  const refreshCtx = useCallback(() => {\n    const win = iframeRef.current?.contentWindow;\n    if (!win) return;\n    const doc = win.document;\n    if (!doc) return;\n\n    const block = (doc.queryCommandValue(\"formatBlock\") || \"P\").toUpperCase();\n\n    setCtx((prev) => ({\n      ...prev,\n      block,\n      bold: doc.queryCommandState(\"bold\"),\n      italic: doc.queryCommandState(\"italic\"),\n      underline: doc.queryCommandState(\"underline\"),\n      strike: doc.queryCommandState(\"strikeThrough\"),\n      orderedList: doc.queryCommandState(\"insertOrderedList\"),\n      unorderedList: doc.queryCommandState(\"insertUnorderedList\"),\n      justifyLeft: doc.queryCommandState(\"justifyLeft\"),\n      justifyCenter: doc.queryCommandState(\"justifyCenter\"),\n      justifyRight: doc.queryCommandState(\"justifyRight\"),\n      link: doc.queryCommandState(\"createLink\"),\n      foreColor: doc.queryCommandValue(\"foreColor\") || \"\",\n      backColor: doc.queryCommandValue(\"hiliteColor\") || \"\",\n      isHeading1: block === \"H1\",\n      isHeading2: block === \"H2\",\n      isHeading3: block === \"H3\",\n      isHeading4: block === \"H4\",\n      isHeading5: block === \"H5\",\n      isHeading6: block === \"H6\",\n      isParagraph: block === \"P\",\n      isBlockquote: block === \"BLOCKQUOTE\",\n      isCodeBlock: block === \"PRE\",\n    }));\n  }, [iframeRef]);\n\n  // ðŸ“¡ Listen for iframe updates\n  useEffect(() => {\n    const onMessage = (e: MessageEvent) => {\n      const d = e.data || {};\n      if (d.type === \"UPDATE\") setHtml(d.html);\n      if (d.type === \"CONTEXT\") {\n        setCtx((prev) => ({\n          ...prev,\n          ...d,\n        }));\n      }\n      if (d.type === \"IFRAME_ERROR\") console.error(\"Iframe error:\", d.message);\n    };\n    window.addEventListener(\"message\", onMessage);\n    return () => window.removeEventListener(\"message\", onMessage);\n  }, []);\n\n  React.useEffect(() => {\n    const handleMessage = (e: MessageEvent) => {\n      const { type, ...data } = e.data;\n      if (type === \"UNDO_REDO_STATE\") {\n        setCtx((prev) => ({\n          ...prev,\n          canUndo: !!data.canUndo,\n          canRedo: !!data.canRedo,\n        }));\n      }\n      if (type === \"CONTEXT\") {\n        setCtx((prev) => ({ ...prev, ...data }));\n      }\n    };\n    window.addEventListener(\"message\", handleMessage);\n    return () => window.removeEventListener(\"message\", handleMessage);\n  }, []);\n\n  return (\n    <EditorContext.Provider\n      value={{\n        html,\n        setHtml,\n        ctx,\n        setCtx,\n        iframeRef: iframeRef as React.RefObject<HTMLIFrameElement>,\n        refreshCtx,\n      }}\n    >\n      {children}\n    </EditorContext.Provider>\n  );\n};\n\nexport const useEditor = () => {\n  const ctx = useContext(EditorContext);\n  if (!ctx) throw new Error(\"useEditor must be used inside <EditorProvider>\");\n  return ctx;\n};\n","\"use client\";\nimport * as React from \"react\";\nimport { useEditor } from \"../provider\";\nimport { EditorChain } from \"@/core/chain\";\nimport { Ban, Minus } from \"lucide-react\";\nimport { TablePicker } from \"../ui/table-picker\";\n\nimport {\n  ToolbarButtonSeparator,\n  ToolbarWrapper,\n  ToolbarButton,\n} from \"./toolbar\";\nimport { HistorySection } from \"../ui/history\";\nimport { StyleFormatSection } from \"../ui/text-style\";\nimport { TextFormatSection } from \"../ui/text-format\";\nimport { ListSelectorSection } from \"../ui/list-selector\";\nimport { IndentOutdentSection } from \"../ui/indent-outdent\";\nimport { TextAlignerSection } from \"../ui/text-aligner\";\n\nexport const ToolbarChain: React.FC = () => {\n  const { iframeRef, ctx } = useEditor();\n  const [chain, setChain] = React.useState<EditorChain | null>(null);\n\n  // ðŸ§  Initialize chain only after iframe is mounted\n  React.useEffect(() => {\n    const timer = setInterval(() => {\n      if (iframeRef.current?.contentWindow && !chain) {\n        setChain(new EditorChain(iframeRef.current.contentWindow));\n      }\n    }, 500);\n    return () => clearInterval(timer);\n  }, [iframeRef, chain]);\n\n  return (\n    <ToolbarWrapper className=\"flex flex-wrap gap-2 border-b pb-2 mb-3\">\n      <HistorySection ctx={ctx} size=\"xs\" />\n      <ToolbarButtonSeparator orientation=\"vertical\" />\n      <TextFormatSection ctx={ctx} size=\"xs\" />\n      <StyleFormatSection ctx={ctx} size=\"xs\" />\n      <ToolbarButtonSeparator />\n      <ListSelectorSection ctx={ctx} size=\"xs\" />\n      <IndentOutdentSection size=\"xs\" ctx={ctx} />\n      <TextAlignerSection ctx={ctx} size=\"xs\" />\n      <TablePicker\n        variant=\"outline\"\n        size=\"icon-xs\"\n        onSelect={(rows, cols) => {\n          const win = iframeRef.current?.contentWindow;\n          const body = win?.document?.body;\n          body?.focus();\n\n          chain?.insertTable(rows, cols)?.run();\n        }}\n      />\n      <ToolbarButton\n        toolButtonSize=\"xs\"\n        tooltip=\"Add Divider\"\n        onClick={() => chain?.insertHTML(\"<hr>\")?.run()}\n      >\n        <Minus />\n      </ToolbarButton>\n      <ToolbarButton\n        toolButtonSize=\"xs\"\n        tooltip=\"Clear\"\n        onClick={() => chain?.clear()?.run()}\n      >\n        <Ban />\n      </ToolbarButton>\n    </ToolbarWrapper>\n  );\n};\n","export class EditorChain {\n  private target: Window | null;\n  private queue: Array<Record<string, unknown>> = [];\n\n  constructor(target: Window | null) {\n    this.target = target;\n  }\n\n  private post(msg: Record<string, unknown>) {\n    if (!this.target) return;\n    this.queue.push(msg);\n    return this;\n  }\n\n  // Executes queued commands in order\n  run() {\n    if (!this.target) return;\n    for (const msg of this.queue) this.target.postMessage(msg, \"*\");\n    this.queue = [];\n  }\n\n  // Inline commands\n  exec(cmd: string, value?: string) {\n    return this.post({ type: \"EXEC\", cmd, value });\n  }\n\n  undo() {\n    this.target?.postMessage({ type: \"EXEC\", cmd: \"undo\" }, \"*\");\n    return this;\n  }\n\n  redo() {\n    this.target?.postMessage({ type: \"EXEC\", cmd: \"redo\" }, \"*\");\n    return this;\n  }\n\n  bold() {\n    return this.exec(\"bold\");\n  }\n  italic() {\n    return this.exec(\"italic\");\n  }\n  underline() {\n    return this.exec(\"underline\");\n  }\n  strike() {\n    return this.exec(\"strikeThrough\");\n  }\n\n  // Block formats\n  heading(level: 1 | 2 | 3 | 4 | 5 | 6) {\n    return this.post({ type: \"FORMAT_BLOCK\", block: `H${level}` });\n  }\n  paragraph() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"P\" });\n  }\n  quote() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"BLOCKQUOTE\" });\n  }\n  codeBlock() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"PRE\" });\n  }\n\n  // Lists\n  bulletList() {\n    return this.exec(\"insertUnorderedList\");\n  }\n  orderedList() {\n    return this.exec(\"insertOrderedList\");\n  }\n  indent() {\n    this.target?.postMessage({ type: \"CUSTOM_INDENT\" }, \"*\");\n    return this;\n  }\n  outdent() {\n    this.target?.postMessage({ type: \"CUSTOM_OUTDENT\" }, \"*\");\n    return this;\n  }\n\n  // Align\n  alignLeft() {\n    return this.exec(\"justifyLeft\");\n  }\n  alignCenter() {\n    return this.exec(\"justifyCenter\");\n  }\n  alignRight() {\n    return this.exec(\"justifyRight\");\n  }\n\n  // Colors\n  color(value: string) {\n    return this.exec(\"foreColor\", value);\n  }\n  highlight(value: string) {\n    return this.exec(\"hiliteColor\", value);\n  }\n\n  // Links\n  link(url: string) {\n    return this.exec(\"createLink\", url);\n  }\n  unlink() {\n    return this.exec(\"unlink\");\n  }\n\n  // Raw HTML\n  insertHTML(html: string) {\n    return this.post({ type: \"INSERT_HTML\", html });\n  }\n  setHTML(html: string) {\n    return this.post({ type: \"SET_HTML\", html });\n  }\n\n  insertTable(rows: number, cols: number) {\n    this.target?.postMessage({ type: \"INSERT_TABLE\", rows, cols }, \"*\");\n    return this;\n  }\n\n  // Helpers\n  clear() {\n    return this.exec(\"removeFormat\");\n  }\n}\n","import { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Table } from \"lucide-react\";\nimport * as React from \"react\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\n\ninterface TablePickerProps\n  extends Omit<React.ComponentProps<typeof Button>, \"onSelect\"> {\n  onSelect?: (rows: number, cols: number) => void;\n}\n\nexport const TablePicker = React.forwardRef<\n  HTMLButtonElement,\n  TablePickerProps\n>(({ onSelect, ...buttonProps }, ref) => {\n  const [open, setOpen] = React.useState(false);\n  const [table, setTable] = React.useState({ rows: 2, cols: 2 });\n\n  const maxRows = 10;\n  const maxCols = 10;\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <ToolbarButton\n          ref={ref}\n          toolButtonSize=\"xs\"\n          tooltip=\"Insert Table\"\n          data-active={open}\n          {...buttonProps}\n        >\n          <Table />\n        </ToolbarButton>\n      </PopoverTrigger>\n      <PopoverContent>\n        {Array.from({ length: maxRows }).map((_, r) => (\n          <div key={r} className=\"flex space-y-0.5 space-x-0.5 mx-auto w-full\">\n            {Array.from({ length: maxCols }).map((_, c) => {\n              // active if less or equal, so user can see rectangular selection\n              const active = r <= table.rows && c <= table.cols;\n              return (\n                <div\n                  key={c}\n                  onMouseEnter={() => setTable({ rows: r, cols: c })}\n                  onClick={() => {\n                    onSelect?.(r + 1, c + 1);\n                    setOpen(false);\n                  }}\n                  data-active={active}\n                  className={`w-5 h-5 border cursor-pointer bg-transparent hover:bg-gray-200 data-[active=true]:ring-1 data-[active=true]:ring-blue-500 data-[active=true]:bg-accent`}\n                />\n              );\n            })}\n          </div>\n        ))}\n        <Separator className=\"w-full\" />\n        <div className=\"text-xs text-muted-foreground mt-2\">\n          {table.rows + 1} Ã— {table.cols + 1}\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n});\n\nTablePicker.displayName = \"TablePicker\";\n","\"use client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport type { SeparatorProps } from \"@radix-ui/react-separator\";\nimport * as React from \"react\";\n\ninterface ToolbarWrapperProps\n  extends Omit<React.ComponentProps<\"div\">, \"children\"> {\n  children?: React.ReactNode;\n}\n\nconst ToolbarWrapper = React.forwardRef<HTMLDivElement, ToolbarWrapperProps>(\n  ({ children, className, ...props }, ref) => {\n    return (\n      <div ref={ref} className={cn(\"flex items-center\", className)} {...props}>\n        {children}\n      </div>\n    );\n  }\n);\n\nToolbarWrapper.displayName = \"ToolbarWrapper\";\n\nconst ToolbarGroup = React.forwardRef<HTMLDivElement, ToolbarWrapperProps>(\n  ({ children, className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex items-center gap-1\", className)}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nToolbarGroup.displayName = \"ToolbarGroup\";\n\nexport const ToolbarButtonSeparator: React.FC<SeparatorProps> = ({\n  orientation = \"vertical\",\n}) => {\n  return (\n    <Separator\n      orientation={orientation}\n      role=\"separator\"\n      style={{ height: \"2rem\" }}\n      className=\"border border-border border-l-0 border-y-0 w-px\"\n    />\n  );\n};\n\nexport const ToolbarButton = React.forwardRef<\n  HTMLButtonElement,\n  ToolbarButtonProps\n>(\n  (\n    {\n      children,\n      onClick,\n      active = false,\n      toolButtonSize = \"sm\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const sizeClasses = {\n      sm: { style: \"px-3 py-1 rounded-sm\", size: \"icon-sm\" },\n      md: { style: \"px-4 py-2 rounded-md\", size: \"icon\" },\n      xs: { style: \"px-2 py-0.5 rounded\", size: \"icon-xs\" },\n    };\n\n    const { style, size } = sizeClasses[toolButtonSize];\n\n    const button = (\n      <Button\n        size={size as \"icon-xs\" | \"icon-sm\" | \"icon\"}\n        onMouseDown={(e) => e.preventDefault()}\n        onClick={onClick}\n        variant=\"outline\"\n        ref={ref}\n        data-active={active}\n        className={cn(\n          `rounded border cursor-pointer text-sm disabled:cursor-not-allowed data-[active=true]:bg-accent data-[active=true]:text-foreground text-foreground/80 hover:text-foreground`,\n          className,\n          style\n        )}\n        {...props}\n      >\n        {children}\n      </Button>\n    );\n\n    if (!tooltip) return button;\n    return (\n      <TooltipProvider delayDuration={250}>\n        <Tooltip>\n          <TooltipTrigger asChild>{button}</TooltipTrigger>\n          <TooltipContent\n            side=\"top\"\n            align=\"end\"\n            className=\"text-xs font-medium\"\n          >\n            {tooltip}\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    );\n  }\n);\n\nToolbarButton.displayName = \"ToolbarButton\";\n\nexport { ToolbarWrapper, ToolbarGroup };\n","// src/editor/hooks/use-editor-chain.ts\n\"use client\";\nimport * as React from \"react\";\nimport { EditorChain } from \"@/core/chain\";\nimport { useEditor } from \"@/components/richtext/provider\";\n\nexport function useEditorChain() {\n  const { iframeRef } = useEditor();\n  const [chain, setChain] = React.useState<EditorChain | null>(null);\n\n  // initialize chain once iframe is loaded\n  React.useEffect(() => {\n    const win = iframeRef.current?.contentWindow;\n    if (win && !chain) {\n      setChain(new EditorChain(win));\n    }\n  }, [iframeRef, chain]);\n\n  // central execute handler\n  const execute = React.useCallback(\n    (action: string, ...args: any[]) => {\n      if (!chain) return;\n      const fn = (chain as any)[action];\n      if (typeof fn === \"function\") {\n        const result = fn.apply(chain, args);\n        if (result?.run) result.run();\n      } else {\n        console.warn(`No chain method found for: ${action}`);\n      }\n    },\n    [chain]\n  );\n\n  return { chain, execute };\n}\n","import { useEditorChain } from \"@/hooks/chain-execute\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { Redo2, Undo2 } from \"lucide-react\";\n\nexport const HistorySection: React.FC<ToolbarHistoryProps> = ({\n  ctx,\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        tooltip=\"Undo\"\n        disabled={!ctx.canUndo}\n        onClick={() => execute(\"undo\")}\n        toolButtonSize={size}\n        className=\"rounded\"\n      >\n        <Undo2 />\n      </ToolbarButton>\n      <ToolbarButton\n        tooltip=\"Redo\"\n        toolButtonSize={size}\n        disabled={!ctx.canRedo}\n        onClick={() => execute(\"redo\")}\n        className=\"rounded\"\n      >\n        <Redo2 />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n","\"use client\";\nimport * as React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport { Bold, Italic, Palette, Underline } from \"lucide-react\";\nimport { ColorHighlighter } from \"@/components/richtext/ui/color-picker\";\n\nconst styleButtons = [\n  {\n    type: \"bold\",\n    cmd: \"bold\",\n    tooltip: \"Bold\",\n    icon: <Bold />,\n    activeKey: \"bold\",\n    action_type: \"button\",\n  },\n  {\n    type: \"italic\",\n    cmd: \"italic\",\n    tooltip: \"Italic\",\n    icon: <Italic />,\n    activeKey: \"italic\",\n    action_type: \"button\",\n  },\n  {\n    type: \"underline\",\n    cmd: \"underline\",\n    tooltip: \"Underline\",\n    icon: <Underline />,\n    activeKey: \"underline\",\n    action_type: \"button\",\n  },\n];\n\nexport const StyleFormatSection: React.FC<StyleFormatSectionProps> = ({\n  ctx,\n  size = \"sm\",\n  highlighter = true,\n}) => {\n  const [isBackground, setIsBackground] = React.useState(\"text\");\n  const { execute } = useEditorChain();\n\n  const handleUpdateColor = (color: string) => {\n    const cmd = isBackground === \"text\" ? \"color\" : \"highlight\";\n    execute(cmd, color);\n  };\n  return (\n    <ToolbarGroup>\n      {/* Actionable text-style buttons */}\n      {styleButtons.map((btn) => (\n        <ToolbarButton\n          key={btn.type}\n          tooltip={btn.tooltip}\n          onClick={() => execute(btn.cmd)}\n          active={Boolean(ctx[btn.activeKey as keyof typeof ctx])}\n          toolButtonSize={size}\n        >\n          {btn.icon}\n        </ToolbarButton>\n      ))}\n      {highlighter && (\n        <ColorHighlighter\n          size=\"xs\"\n          color={ctx.foreColor}\n          icon={Palette}\n          onChange={handleUpdateColor}\n          isBack={isBackground as \"text\" | \"background\"}\n          onChangeIsBackground={() =>\n            setIsBackground(isBackground === \"text\" ? \"background\" : \"text\")\n          }\n        />\n      )}\n    </ToolbarGroup>\n  );\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"../../ui/popover\";\nimport { SketchPicker, type ColorResult } from \"react-color\";\nimport { Check } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../ui/tabs\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\n\nexport const ColorHighlighter = React.forwardRef<\n  HTMLButtonElement,\n  ColorHighlighterProps\n>(\n  (\n    {\n      color,\n      onChange,\n      disabled,\n      className,\n      isBack,\n      onChangeIsBackground,\n      icon,\n      size = \"sm\",\n      ...props\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = React.useState(false);\n    const [tempColor, setTempColor] = React.useState(color || \"#000000\");\n    const IconComponent = icon || Check;\n\n    const handleChange = (clr: ColorResult) => {\n      setTempColor(clr.hex);\n    };\n\n    const handleComplete = (clr: ColorResult) => {\n      setTempColor(clr.hex);\n      onChange?.(clr.hex);\n    };\n\n    return (\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\n        <PopoverTrigger\n          className={cn(\n            \"px-0.5 p-0 flex items-center data-[state=open]:bg-accent\",\n            className\n          )}\n          ref={ref}\n          disabled={disabled}\n          asChild\n        >\n          <ToolbarButton toolButtonSize={size} tooltip=\"Color\" {...props}>\n            <IconComponent color=\"currentColor\" />\n          </ToolbarButton>\n        </PopoverTrigger>\n\n        <PopoverContent\n          className=\"p-2 w-[260px] bg-background shadow-lg border border-border rounded\"\n          align=\"end\"\n        >\n          <Tabs\n            value={isBack}\n            onValueChange={(value) =>\n              onChangeIsBackground?.(value as \"text\" | \"background\")\n            }\n          >\n            <TabsList className=\"w-full rounded bg-accent\">\n              <TabsTrigger\n                value=\"text\"\n                className=\"w-full cursor-pointer rounded\"\n              >\n                Text\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"background\"\n                className=\"w-full cursor-pointer rounded\"\n              >\n                Background\n              </TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"text\">\n              <Picker\n                handleChange={handleChange}\n                handleComplete={handleComplete}\n                color={tempColor}\n              />\n            </TabsContent>\n            <TabsContent value=\"background\">\n              <Picker\n                handleChange={handleChange}\n                handleComplete={handleComplete}\n                color={tempColor}\n              />\n            </TabsContent>\n          </Tabs>\n        </PopoverContent>\n      </Popover>\n    );\n  }\n);\n\nColorHighlighter.displayName = \"ColorHighlighter\";\n\nfunction Picker({\n  handleChange,\n  handleComplete,\n  color,\n}: {\n  handleChange: (clr: ColorResult) => void;\n  handleComplete: (clr: ColorResult) => void;\n  color: string;\n}) {\n  return (\n    <SketchPicker\n      color={color}\n      onChange={handleChange}\n      onChangeComplete={handleComplete}\n      disableAlpha={true}\n      presetColors={[\n        \"#4F46E5\",\n        \"#7C3AED\",\n        \"#EC4899\",\n        \"#F43F5E\",\n        \"#EF4444\",\n        \"#F97316\",\n        \"#F59E0B\",\n        \"#10B981\",\n        \"#06B6D4\",\n        \"#0EA5E9\",\n        \"#3B82F6\",\n        \"#64748B\",\n        \"#000000\",\n        \"#FFFFFF\",\n      ]}\n      styles={{\n        default: {\n          picker: {\n            padding: \"0px\",\n            maxWidth: \"100%\",\n            width: \"250px\",\n            background: \"inherit\",\n            boxShadow: \"none\",\n            borderRadius: \"12px\",\n            cursor: \"pointer\",\n          },\n          saturation: {\n            borderRadius: \"6px\",\n            marginBottom: \"12px\",\n            boxShadow: \"0 0 0 1px rgba(0,0,0,0.05)\",\n          },\n          controls: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            color: \"inherit\",\n          },\n          color: {\n            color: \"inherit\",\n            background: \"#000\",\n            borderRadius: \"6px\",\n          },\n          activeColor: {\n            borderRadius: \"8px\",\n            border: \"1px solid #444\",\n          },\n          hue: {\n            color: \"inherit\",\n            height: \"12px\",\n            borderRadius: \"8px\",\n          },\n        },\n      }}\n    />\n  );\n}\n","\"use client\";\nimport * as React from \"react\";\nimport {\n  Check,\n  ChevronDown,\n  Code,\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n  Pilcrow,\n  Quote,\n} from \"lucide-react\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst allFormats = [\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [1],\n    tooltip: \"Heading 1\",\n    icon: <Heading1 />,\n    activeKey: \"isHeading1\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [2],\n    tooltip: \"Heading 2\",\n    icon: <Heading2 />,\n    activeKey: \"isHeading2\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [3],\n    tooltip: \"Heading 3\",\n    icon: <Heading3 />,\n    activeKey: \"isHeading3\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [4],\n    tooltip: \"Heading 4\",\n    icon: <Heading4 />,\n    activeKey: \"isHeading4\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [5],\n    tooltip: \"Heading 5\",\n    icon: <Heading5 />,\n    activeKey: \"isHeading5\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [6],\n    tooltip: \"Heading 6\",\n    icon: <Heading6 />,\n    activeKey: \"isHeading6\",\n  },\n  {\n    type: \"paragraph\",\n    cmd: \"paragraph\",\n    tooltip: \"Paragraph\",\n    icon: <Pilcrow />,\n    activeKey: \"isParagraph\",\n  },\n  {\n    type: \"blockquote\",\n    cmd: \"quote\",\n    tooltip: \"Blockquote\",\n    icon: <Quote />,\n    activeKey: \"isBlockquote\",\n  },\n  {\n    type: \"code\",\n    cmd: \"codeBlock\",\n    tooltip: \"Code Block\",\n    icon: <Code />,\n    activeKey: \"isCodeBlock\",\n  },\n];\n\nexport const TextFormatSection: React.FC<TextFormatSectionProps> = ({\n  ctx,\n  format = {\n    heading: [1, 2, 3],\n    code: false,\n    blockquote: false,\n    paragraph: true,\n  },\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n\n  const visibleFormats = React.useMemo(() => {\n    return allFormats.filter((btn) => {\n      switch (btn.type) {\n        case \"heading\":\n          return format.heading?.includes(btn.args?.[0] as Heading);\n        case \"paragraph\":\n          return !!format.paragraph;\n        case \"blockquote\":\n          return !!format.blockquote;\n        case \"code\":\n          return !!format.code;\n        default:\n          return false;\n      }\n    });\n  }, [format]);\n\n  const currentActive = visibleFormats.find(\n    (btn) => ctx[btn.activeKey as keyof typeof ctx]\n  );\n\n  const currentLabel = currentActive?.tooltip || \"Format\";\n\n  const sizeClasses = {\n    sm: \"px-2 h-8 text-sm gap-1.5\",\n    md: \"px-3 h-9 text-base gap-2\",\n    xs: \"px-1.5 h-7 text-xs gap-1\",\n  };\n\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger\n            className={`flex items-center justify-between gap-1 border border-border rounded ${sizeClasses[size]} text-muted-foreground hover:bg-muted hover:text-foreground transition-colors focus-visible:ring-1 focus-visible:ring-ring focus:outline-none min-w-[6rem]`}\n          >\n            {currentLabel}\n            <ChevronDown className=\"w-4 h-4 opacity-70\" strokeWidth={2} />\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n        <TooltipContent side=\"bottom\">Select Text format</TooltipContent>\n      </Tooltip>\n\n      <DropdownMenuContent align=\"center\" className=\"min-w-10 space-y-0.5\">\n        {visibleFormats.map((btn) => {\n          const active = Boolean(ctx[btn.activeKey as keyof typeof ctx]);\n          return (\n            <DropdownMenuItem\n              key={btn.tooltip}\n              onClick={() => execute(btn.cmd, ...(btn.args || []))}\n              data-active={active}\n              className={`flex hover:bg-muted/70 data-[active=true]:text-accent-foreground data-[active=true]:bg-accent items-center justify-between gap-2 px-2 py-1.5 cursor-pointer transition-colors ease-in-out duration-150`}\n            >\n              <span className=\"flex items-center gap-2\">\n                {btn.icon}\n                {btn.tooltip}\n              </span>\n              {active && <Check className=\"w-4 h-4 text-blue-500\" />}\n            </DropdownMenuItem>\n          );\n        })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n","\"use client\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport * as React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { List, ListOrdered } from \"lucide-react\";\n\nexport const ListSelectorSection: React.FC<ListSelectorSectionProps> = ({\n  ctx,\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        onClick={() => execute(\"bulletList\")}\n        active={ctx.unorderedList as boolean}\n        toolButtonSize={size}\n        tooltip=\"Unordered List\"\n      >\n        <List />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={() => execute(\"orderedList\")}\n        active={ctx.orderedList as boolean}\n        toolButtonSize={size}\n        tooltip=\"Ordered List\"\n      >\n        <ListOrdered />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n","import React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\n\nexport const IndentOutdentSection: React.FC<IndentOutdentSectionProps> = ({\n  ctx,\n  size,\n}) => {\n  const { execute } = useEditorChain();\n  console.log(ctx);\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        toolButtonSize={size}\n        disabled={ctx?.isIndented}\n        onClick={() => execute(\"indent\")}\n      >\n        <Indent />\n      </ToolbarButton>\n      <ToolbarButton\n        toolButtonSize={size}\n        disabled={!ctx?.isIndented}\n        onClick={() => execute(\"outdent\")}\n      >\n        <Outdent />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n\nconst Indent = ({ ...props }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n      fill=\"currentColor\"\n    >\n      <path d=\"M1.75 2a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8.75 5.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8 9.75a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75\" />\n      <path d=\"M1.75 12.5a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M1 10.407c0 .473.55.755.96.493l3.765-2.408a.578.578 0 0 0 0-.985l-3.765-2.407c-.41-.262-.96.02-.96.493z\" />\n    </svg>\n  );\n};\nconst Outdent = ({ ...props }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n      fill=\"currentColor\"\n    >\n      <path d=\"M1.75 2a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8.75 5.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8 9.75a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75\" />\n      <path d=\"M1.75 12.5a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M6 10.407c0 .473-.55.755-.96.493l-3.765-2.408a.578.578 0 0 1 0-.985l3.765-2.407c.41-.262.96.02.96.493z\" />\n    </svg>\n  );\n};\n","\"use client\";\nimport * as React from \"react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\nimport { TextAlignStart, TextAlignCenter, TextAlignEnd } from \"lucide-react\";\n\nimport { useEditorChain } from \"@/hooks/chain-execute\";\n\nexport const TextAlignerSection: React.FC<TextAlignerSectionProps> = ({\n  size = \"sm\",\n  ctx,\n}) => {\n  const [_open, _setOpen] = React.useState(false);\n  const { execute } = useEditorChain();\n\n  const alignOptions = [\n    {\n      cmd: \"alignLeft\",\n      tooltip: \"Align Left\",\n      icon: <TextAlignStart className=\"w-4 h-4\" />,\n      active: ctx?.justifyLeft,\n    },\n    {\n      cmd: \"alignCenter\",\n      tooltip: \"Align Center\",\n      icon: <TextAlignCenter className=\"w-4 h-4\" />,\n      active: ctx?.justifyCenter,\n    },\n    {\n      cmd: \"alignRight\",\n      tooltip: \"Align Right\",\n      icon: <TextAlignEnd className=\"w-4 h-4\" />,\n      active: ctx?.justifyRight,\n    },\n  ];\n\n  // Pick icon for trigger based on current active alignment\n  const activeAlign = alignOptions.find((a) => a.active)?.icon || (\n    <TextAlignStart className=\"w-4 h-4\" />\n  );\n\n  return (\n    <DropdownMenu open={_open} onOpenChange={_setOpen}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton\n          tooltip=\"Text Alignment\"\n          data-active={_open}\n          toolButtonSize={size}\n        >\n          {activeAlign}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        align=\"center\"\n        className=\"flex gap-1 p-2 min-w-0 bg-background/95 backdrop-blur-md rounded shadow-sm border\"\n      >\n        {alignOptions.map((opt) => (\n          <ToolbarButton\n            key={opt.cmd}\n            tooltip={opt.tooltip}\n            toolButtonSize=\"sm\"\n            active={opt.active}\n            onClick={() => {\n              execute(opt.cmd);\n              _setOpen(!_open);\n            }}\n          >\n            {opt.icon}\n          </ToolbarButton>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n","import { EditorFrame } from \"../editor\";\nimport { EditorProvider } from \"./provider\";\nimport { ToolbarChain } from \"./toolbar/ToolbarChain\";\n\nexport const ECODEditor = () => {\n  return (\n    <EditorProvider>\n      <ToolbarChain />\n      <EditorFrame />\n    </EditorProvider>\n  );\n};\n"],"mappings":"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","names":["React","React","React","React","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_lucide_react","import_jsx_runtime","import_lucide_react","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_class_variance_authority","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_lucide_react","import_jsx_runtime","_a","React","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","React","React","import_lucide_react","import_lucide_react","React","React","import_jsx_runtime","import_jsx_runtime","_","React","import_lucide_react","import_jsx_runtime","React","import_lucide_react","React","import_lucide_react","import_jsx_runtime","import_jsx_runtime","React","import_lucide_react","import_jsx_runtime","import_lucide_react","import_jsx_runtime","import_jsx_runtime","Indent","Outdent","React","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime"]}