{"version":3,"sources":["../../src/index.ts","../../src/components/richtext/editor.tsx","../../src/context/editor.tsx","../../src/core/runtime.ts","../../src/core/engine.ts","../../src/hooks/chain-execute.ts","../../src/core/chain.ts","../../src/components/ui/button.tsx","../../src/lib/utils.ts","../../src/components/ui/separator.tsx","../../src/components/ui/tooltip.tsx","../../src/components/richtext/toolbar/toolbar.tsx","../../src/components/richtext/ui/history.tsx","../../src/components/richtext/ui/indent-outdent.tsx","../../src/components/richtext/ui/list-selector.tsx","../../src/components/ui/popover.tsx","../../src/components/richtext/ui/table-picker.tsx","../../src/components/richtext/ui/text-aligner.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/richtext/ui/text-format.tsx","../../src/components/richtext/ui/text-style.tsx","../../src/components/richtext/ui/color-picker.tsx","../../src/components/ui/tabs.tsx","../../src/components/ui/skeleton.tsx","../../src/components/richtext/ui/loader.tsx","../../src/components/richtext/toolbar/ToolbarChain.tsx"],"sourcesContent":["// src/index.ts\n\nexport type * from \"./types/globals\";\nimport \"./app/globals.css\";\nexport { RichtextEditor } from \"./components/richtext/editor\";\n","\"use client\";\nimport * as React from \"react\";\nimport { EditorProvider } from \"@/context/editor\";\nimport { DotsLoader, EditorSkeleton, SpinnerLoader } from \"./ui\";\nimport { ToolbarChain } from \"./toolbar/ToolbarChain\";\n\nexport const RichtextEditor: React.FC<RichtextEditorProps> = ({\n  initialContent,\n  loader = \"shine\",\n  toolbar,\n  onChange,\n}) => {\n  const [isMount, setIsMount] = React.useState(false);\n\n  React.useEffect(() => {\n    const isInit = setInterval(() => {\n      setIsMount(true);\n    }, 300);\n    const handleLoad = () => clearInterval(isInit);\n    window.addEventListener(\"load\", handleLoad);\n    return () => {\n      clearInterval(isInit);\n      window.removeEventListener(\"load\", handleLoad);\n    };\n  }, []);\n\n  if (!isMount) {\n    switch (loader) {\n      case \"shine\":\n        return <EditorSkeleton animation=\"shine\" />;\n      case \"skeleton\":\n        return <EditorSkeleton />;\n      case \"dots\":\n        return <DotsLoader />;\n      default:\n        return <SpinnerLoader />;\n    }\n  }\n\n  return (\n    <EditorProvider initialContent={initialContent} onChange={onChange}>\n      <ToolbarChain {...toolbar} />\n    </EditorProvider>\n  );\n};\n","// src/context/editor.tsx\n\"use client\";\nimport * as React from \"react\";\nimport { EditorCore } from \"@/core/engine\";\n\nconst defaultCtx: EditorContextState = {\n  block: \"P\",\n  bold: false,\n  italic: false,\n  underline: false,\n  strike: false,\n  orderedList: false,\n  unorderedList: false,\n  justifyLeft: false,\n  justifyCenter: false,\n  justifyRight: false,\n  link: false,\n  foreColor: \"\",\n  backColor: \"\",\n  isHeading1: false,\n  isHeading2: false,\n  isHeading3: false,\n  isHeading4: false,\n  isHeading5: false,\n  isHeading6: false,\n  isParagraph: true,\n  isBlockquote: false,\n  isCodeBlock: false,\n  canUndo: false,\n  canRedo: false,\n  isIndented: false,\n};\n\nexport type EditorContextShape = {\n  core: EditorCore | null;\n  ctx: EditorContextState;\n  setCtx: React.Dispatch<React.SetStateAction<EditorContextState>>;\n  html: string;\n  json: object[];\n  iframeRef: React.RefObject<HTMLIFrameElement>;\n  refreshCtx: () => void;\n};\n\nconst EditorContext = React.createContext<EditorContextShape | null>(null);\n\nexport const useEditor = () => {\n  const ctx = React.useContext(EditorContext);\n  if (!ctx) throw new Error(\"useEditor must be used inside <EditorProvider>\");\n  return ctx;\n};\n\nexport const EditorProvider: React.FC<{\n  initialContent?: string;\n  children?: React.ReactNode;\n  onChange?: (editor: EditorCore) => void;\n}> = ({ initialContent = \"Start typing...\", children, onChange }) => {\n  const iframeRef = React.useRef<HTMLIFrameElement>(null);\n\n  const [core, setCore] = React.useState<EditorCore | null>(null);\n  const [ctx, setCtx] = React.useState(defaultCtx);\n  const [html, setHtml] = React.useState(initialContent);\n  const [json, setJson] = React.useState<object[]>([]);\n  const [isFocused, setIsFocused] = React.useState(false);\n\n  React.useEffect(() => {\n    if (!iframeRef.current) return;\n\n    const editor = new EditorCore(\n      iframeRef.current,\n      `<p>${initialContent}</p>`\n    );\n\n    editor.init();\n    setCore(editor);\n\n    // üß† Watch for updates from iframe runtime\n    editor.on(\"update\", () => {\n      setHtml(editor.toHTML());\n      setJson(editor.toJSON());\n      // üöÄ Fire external onChange callback\n      onChange?.(editor);\n    });\n\n    // üß† Watch for context (bold, italics, etc.)\n    editor.on(\"context\", (data) => {\n      setCtx((prev) => ({ ...prev, ...(data as object) }));\n    });\n\n    // üß† Undo/Redo state updates\n    editor.on(\"undoRedo\", (state: UndoRedoState) => {\n      setCtx((prev) => ({\n        ...prev,\n        canUndo: Boolean(state?.canUndo),\n        canRedo: Boolean(state?.canRedo),\n      }));\n    });\n    return () => editor.destroy();\n  }, [iframeRef, onChange, initialContent]);\n\n  React.useEffect(() => {\n    const iframe = iframeRef.current;\n    if (!iframe) return;\n    const doc = iframe.contentDocument;\n    if (!doc) return;\n\n    const handleFocus = () => setIsFocused(true);\n    const handleBlur = () => setIsFocused(false);\n\n    const interval = setInterval(() => {\n      const body = doc.body;\n      if (body) {\n        body.addEventListener(\"focus\", handleFocus);\n        body.addEventListener(\"blur\", handleBlur);\n        clearInterval(interval);\n      }\n    }, 200);\n\n    return () => {\n      clearInterval(interval);\n      const body = doc.body;\n      if (body) {\n        body.removeEventListener(\"focus\", handleFocus);\n        body.removeEventListener(\"blur\", handleBlur);\n      }\n    };\n  }, [iframeRef]);\n\n  const refreshCtx = React.useCallback(() => {\n    if (!core?.doc) return;\n    const doc = core.doc;\n    const block = (doc.queryCommandValue(\"formatBlock\") || \"P\").toUpperCase();\n    setCtx((prev) => ({\n      ...prev,\n      block,\n      bold: doc.queryCommandState(\"bold\"),\n      italic: doc.queryCommandState(\"italic\"),\n      underline: doc.queryCommandState(\"underline\"),\n      strike: doc.queryCommandState(\"strikeThrough\"),\n      orderedList: doc.queryCommandState(\"insertOrderedList\"),\n      unorderedList: doc.queryCommandState(\"insertUnorderedList\"),\n      justifyLeft: doc.queryCommandState(\"justifyLeft\"),\n      justifyCenter: doc.queryCommandState(\"justifyCenter\"),\n      justifyRight: doc.queryCommandState(\"justifyRight\"),\n      link: doc.queryCommandState(\"createLink\"),\n      foreColor: doc.queryCommandValue(\"foreColor\") || \"\",\n      backColor: doc.queryCommandValue(\"hiliteColor\") || \"\",\n      isHeading1: block === \"H1\",\n      isHeading2: block === \"H2\",\n      isHeading3: block === \"H3\",\n      isHeading4: block === \"H4\",\n      isHeading5: block === \"H5\",\n      isHeading6: block === \"H6\",\n      isParagraph: block === \"P\",\n      isBlockquote: block === \"BLOCKQUOTE\",\n      isCodeBlock: block === \"PRE\",\n    }));\n  }, [core]);\n\n  return (\n    <EditorContext.Provider\n      value={{\n        core,\n        ctx,\n        setCtx,\n        html,\n        json,\n        iframeRef: iframeRef as React.RefObject<HTMLIFrameElement>,\n        refreshCtx,\n      }}\n    >\n      <div\n        data-focused={isFocused}\n        className=\"\n    relative border border-border rounded-sm \n    transition-all duration-200 ring-0 \n    data-[focused=true]:ring-1 ring-blue-500/70 shadow-sm\n    hover:border-blue-400 cursor-text\n  \"\n      >\n        {children}\n        <iframe\n          ref={iframeRef}\n          className=\"\n      w-full h-[350px] border-0 rounded-b \n      bg-background cursor-text focus:cursor-text\n    \"\n          sandbox=\"allow-same-origin allow-scripts allow-forms allow-popups\"\n        />\n      </div>\n    </EditorContext.Provider>\n  );\n};\n","// src/editor/runtime.ts\nexport function editorRuntimeInit() {\n  let lastRange: Range | null = null;\n  const undoStack: string[] = [];\n  const redoStack: string[] = [];\n\n  function notifyReadySafely() {\n    const check = setInterval(() => {\n      if (document.body && document.body.isContentEditable) {\n        clearInterval(check);\n        parent.postMessage({ type: \"IFRAME_READY\" }, \"*\");\n      }\n    }, 50);\n  }\n\n  function saveSelection() {\n    const s = window.getSelection();\n    if (s && s.rangeCount > 0) lastRange = s.getRangeAt(0);\n  }\n\n  function restoreSelection() {\n    if (!lastRange) return;\n    const s = window.getSelection();\n    s?.removeAllRanges();\n    s?.addRange(lastRange);\n  }\n\n  function send(type: string, payload: Record<string, unknown> = {}) {\n    parent.postMessage(Object.assign({ type }, payload), \"*\");\n  }\n\n  if (\n    document.readyState === \"complete\" ||\n    document.readyState === \"interactive\"\n  ) {\n    notifyReadySafely();\n  } else {\n    window.addEventListener(\"DOMContentLoaded\", notifyReadySafely);\n  }\n\n  // üîÅ Triggered whenever selection or caret changes\n  document.addEventListener(\"selectionchange\", () => {\n    const payload = {\n      block: document.queryCommandValue(\"formatBlock\") || \"P\",\n      bold: document.queryCommandState(\"bold\"),\n      italic: document.queryCommandState(\"italic\"),\n      underline: document.queryCommandState(\"underline\"),\n      strike: document.queryCommandState(\"strikeThrough\"),\n      orderedList: document.queryCommandState(\"insertOrderedList\"),\n      unorderedList: document.queryCommandState(\"insertUnorderedList\"),\n      justifyLeft: document.queryCommandState(\"justifyLeft\"),\n      justifyCenter: document.queryCommandState(\"justifyCenter\"),\n      justifyRight: document.queryCommandState(\"justifyRight\"),\n      link: document.queryCommandState(\"createLink\"),\n      foreColor: document.queryCommandValue(\"foreColor\"),\n      backColor: document.queryCommandValue(\"hiliteColor\"),\n    };\n\n    // üß± Detect indentation\n    const sel = window.getSelection();\n    let isIndented = false;\n\n    if (sel && sel.anchorNode) {\n      const el =\n        (sel.anchorNode.nodeType === Node.ELEMENT_NODE\n          ? sel.anchorNode\n          : sel.anchorNode.parentElement) || null;\n\n      const block = (el as HTMLElement)?.closest(\n        \"p, div, li, blockquote, pre\"\n      ) as HTMLElement | null;\n      if (block) {\n        const style = window.getComputedStyle(block);\n        const marginLeft = parseFloat(style.marginLeft || \"0\");\n        const paddingLeft = parseFloat(style.paddingLeft || \"0\");\n\n        // Detect if the element or its HTML has visual indentation\n        isIndented =\n          marginLeft > 5 ||\n          paddingLeft > 5 ||\n          /^\\s|(&nbsp;)+/.test(block.innerHTML);\n      }\n    }\n\n    (payload as EditorContextState).isIndented = isIndented;\n\n    // Normalize heading levels\n    const blk = String(payload.block).toUpperCase();\n    (payload as EditorContextState).isHeading1 = blk === \"H1\";\n    (payload as EditorContextState).isHeading2 = blk === \"H2\";\n    (payload as EditorContextState).isHeading3 = blk === \"H3\";\n    (payload as EditorContextState).isHeading4 = blk === \"H4\";\n    (payload as EditorContextState).isHeading5 = blk === \"H5\";\n    (payload as EditorContextState).isHeading6 = blk === \"H6\";\n    (payload as EditorContextState).isParagraph = blk === \"P\";\n    (payload as EditorContextState).isBlockquote = blk === \"BLOCKQUOTE\";\n    (payload as EditorContextState).isCodeBlock = blk === \"PRE\";\n\n    send(\"CONTEXT\", payload);\n    saveSelection();\n  });\n\n  // Save current state for undo tracking\n  function pushUndoState() {\n    const currentHTML = document.body.innerHTML;\n    if (\n      undoStack.length === 0 ||\n      undoStack[undoStack.length - 1] !== currentHTML\n    ) {\n      undoStack.push(currentHTML);\n      redoStack.length = 0; // clear redo\n    }\n    send(\"UNDO_REDO_STATE\", {\n      canUndo: undoStack.length > 1,\n      canRedo: redoStack.length > 0,\n    });\n  }\n\n  // Restore state for undo\n  function doUndo() {\n    if (undoStack.length > 1) {\n      const current = undoStack.pop();\n      if (current) redoStack.push(current);\n      const prev = undoStack[undoStack.length - 1];\n      document.body.innerHTML = prev;\n      send(\"UPDATE\", { html: prev });\n    }\n    send(\"UNDO_REDO_STATE\", {\n      canUndo: undoStack.length > 1,\n      canRedo: redoStack.length > 0,\n    });\n  }\n\n  // Restore state for redo\n  function doRedo() {\n    if (redoStack.length > 0) {\n      const next = redoStack.pop();\n      if (next) {\n        undoStack.push(next);\n        document.body.innerHTML = next;\n        send(\"UPDATE\", { html: next });\n      }\n    }\n    send(\"UNDO_REDO_STATE\", {\n      canUndo: undoStack.length > 1,\n      canRedo: redoStack.length > 0,\n    });\n  }\n\n  // üß† Initialize\n  pushUndoState();\n\n  // üß† Update html on edit\n  document.body.addEventListener(\"input\", () => {\n    pushUndoState();\n    send(\"UPDATE\", { html: document.body.innerHTML });\n  });\n\n  // üßπ Clean paste\n  document.addEventListener(\"paste\", (e: ClipboardEvent) => {\n    e.preventDefault();\n    const text = e.clipboardData?.getData(\"text/plain\") || \"\";\n    document.execCommand(\"insertText\", false, text);\n  });\n\n  // üì© Commands from parent\n  window.addEventListener(\"message\", (e: MessageEvent) => {\n    const { type, cmd, value, html, block } = e.data || {};\n    if (type === \"EXEC\" && cmd === \"undo\") {\n      doUndo();\n      return;\n    }\n\n    if (type === \"EXEC\" && cmd === \"redo\") {\n      doRedo();\n      return;\n    }\n\n    if (type === \"EXEC\") {\n      console.log(type, cmd, value);\n      restoreSelection();\n      document.execCommand(cmd, false, value ?? null);\n      document.body.dispatchEvent(new Event(\"input\"));\n    }\n\n    if (type === \"FORMAT_BLOCK\") {\n      restoreSelection();\n      document.execCommand(\"formatBlock\", false, block || \"P\");\n      document.body.dispatchEvent(new Event(\"input\"));\n    }\n\n    if (type === \"INSERT_HTML\") {\n      restoreSelection();\n      document.execCommand(\"insertHTML\", false, html || \"\");\n      document.body.dispatchEvent(new Event(\"input\"));\n    }\n\n    if (type === \"SET_HTML\") {\n      console.log(html);\n      document.body.innerHTML = html || \"\";\n      document.body.dispatchEvent(new Event(\"input\"));\n    }\n\n    if (type === \"CUSTOM_INDENT\") {\n      console.log(type);\n      const ev = new KeyboardEvent(\"keydown\", { key: \"Tab\" });\n      document.dispatchEvent(ev);\n    }\n\n    if (type === \"CUSTOM_OUTDENT\") {\n      console.log(type);\n      const ev = new KeyboardEvent(\"keydown\", { key: \"Tab\", shiftKey: true });\n      document.dispatchEvent(ev);\n    }\n\n    if (type === \"INSERT_TABLE\") {\n      restoreSelection();\n\n      const { rows = 2, cols = 2 } = e.data;\n      let tableHtml = \"<table style='border-collapse: collapse; width: 100%;'>\";\n      for (let r = 0; r < rows; r++) {\n        tableHtml += \"<tr>\";\n        for (let c = 0; c < cols; c++) {\n          tableHtml +=\n            \"<td style='border: 1px solid #ccc; padding: 6px;'><br></td>\";\n        }\n        tableHtml += \"</tr>\";\n      }\n      tableHtml += \"</table><p><br></p>\";\n\n      document.execCommand(\"insertHTML\", false, tableHtml);\n      document.body.dispatchEvent(new Event(\"input\"));\n    }\n  });\n\n  // ‚å®Ô∏è Keyboard shortcuts & behaviors\n  document.addEventListener(\"keydown\", (ev: KeyboardEvent) => {\n    // üîπ Custom single-line indent / outdent\n    if (ev.key === \"Tab\") {\n      ev.preventDefault();\n      const sel = window.getSelection();\n      if (!sel || sel.rangeCount === 0) return;\n      const range = sel.getRangeAt(0);\n\n      // Get current line or block\n      const node = range.startContainer as Node;\n      let el: HTMLElement | null = null;\n      if (node.nodeType === Node.ELEMENT_NODE) el = node as HTMLElement;\n      else if ((node as HTMLElement).parentElement)\n        el = (node as HTMLElement).parentElement;\n\n      const line = el?.closest(\n        \"p, div, pre, blockquote, li\"\n      ) as HTMLElement | null;\n      if (!line) return;\n\n      // üß† Always work on the first text node\n      let textNode: ChildNode | null = line.firstChild;\n      while (textNode && textNode.nodeType !== Node.TEXT_NODE) {\n        textNode = textNode.nextSibling;\n      }\n\n      // If no text node, create one\n      if (!textNode) {\n        textNode = document.createTextNode(\"\");\n        line.insertBefore(textNode, line.firstChild);\n      }\n\n      // ‚ûï INDENT (Tab)\n      if (!ev.shiftKey) {\n        const indent = \"\\u00A0\\u00A0\\u00A0\\u00A0\"; // 4 non-breaking spaces\n        // Insert spaces directly into first text node if caret is at start\n        if (range.startOffset === 0 && range.startContainer === textNode) {\n          textNode.textContent = indent + textNode.textContent;\n        } else {\n          const indentNode = document.createTextNode(indent);\n          range.insertNode(indentNode);\n        }\n\n        // Move caret after indent\n        const newRange = document.createRange();\n        if (range.startContainer === textNode) newRange.setStart(textNode, 4);\n        else newRange.setStartAfter(line.firstChild!);\n        newRange.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n      }\n\n      // ‚ûñ OUTDENT (Shift+Tab)\n      else {\n        const firstText = textNode.textContent || \"\";\n        const updated = firstText.replace(/^[\\u00A0\\s]{1,4}/, \"\");\n        textNode.textContent = updated;\n\n        // Also handle accidental &nbsp; in HTML\n        const html = line.innerHTML.replace(/^(&nbsp;|\\s){1,4}/, \"\");\n        if (line.innerHTML !== html) line.innerHTML = html || \"<br>\";\n\n        // Reset caret at beginning of cleaned line\n        const newRange = document.createRange();\n        if (line.firstChild) newRange.setStart(line.firstChild, 0);\n        else newRange.selectNodeContents(line);\n        newRange.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n      }\n\n      document.body.dispatchEvent(new Event(\"input\"));\n      return;\n    }\n\n    // üîπ Ctrl + B/I/U shortcuts\n    if (ev.ctrlKey || ev.metaKey) {\n      const k = ev.key.toLowerCase();\n      if (k === \"z\") {\n        ev.preventDefault();\n        document.execCommand(\"undo\");\n      }\n      if (k === \"y\") {\n        ev.preventDefault();\n        document.execCommand(\"redo\");\n      }\n      if (k === \"b\") {\n        ev.preventDefault();\n        document.execCommand(\"bold\");\n      }\n      if (k === \"i\") {\n        ev.preventDefault();\n        document.execCommand(\"italic\");\n      }\n      if (k === \"u\") {\n        ev.preventDefault();\n        document.execCommand(\"underline\");\n      }\n    }\n  });\n\n  window.addEventListener(\"error\", (err) => {\n    parent.postMessage({ type: \"IFRAME_ERROR\", message: err.message }, \"*\");\n  });\n}\n","// src/core/engine.ts\nimport { editorRuntimeInit } from \"@/core/runtime\";\n\nexport interface EditorNode {\n  type: string;\n  content?: string;\n  attrs?: Record<string, EditorAttrs>;\n  children?: EditorNode[];\n}\n\ntype EditorAttrs = string | number | boolean | object | null | undefined;\n\n/**\n * üß† EditorCore ‚Äî standalone controller for the RichtextEditor iframe.\n * Handles runtime injection, postMessage, serialization, and HTML structure setup.\n */\nexport class EditorCore {\n  iframe: HTMLIFrameElement;\n  win: Window | null = null;\n  doc: Document | null = null;\n  html = \"\";\n  isReady = false;\n  listeners: Partial<{\n    [K in keyof EditorEvents]: Array<(data: EditorEvents[K]) => void>;\n  }> = {};\n\n  constructor(iframe: HTMLIFrameElement, initialHTML = \"<p>Start typing‚Ä¶</p>\") {\n    this.iframe = iframe;\n    this.html = initialHTML;\n  }\n\n  /**\n   * üöÄ Initializes the editor iframe with full HTML + runtime.\n   * Automatically injects styling and runtime script.\n   */\n  init() {\n    const iframe = this.iframe;\n    const doc = iframe.contentDocument;\n    if (!doc) throw new Error(\"‚ùå No iframe document available\");\n\n    this.doc = doc;\n    this.win = iframe.contentWindow;\n    const htmlTemplate = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <style>\n      :root {\n        --editor-bg: #ffffff;\n        --editor-fg: #111111;\n        --editor-accent: #3b82f6; /* blue-500 */\n        --editor-placeholder: rgba(100, 116, 139, 0.6); /* slate-500 */\n      }\n\n      @media (prefers-color-scheme: dark) {\n        :root {\n          --editor-bg: #0a0a0a;\n          --editor-fg: #f8fafc;\n          --editor-accent: #60a5fa; /* lighter blue for dark bg */\n          --editor-placeholder: rgba(148, 163, 184, 0.6);\n        }\n      }\n\n      html, body {\n        height: 100%;\n        min-height: 100%;\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        overflow-y: auto;\n        cursor: text;\n        background: var(--editor-bg);\n        color: var(--editor-fg);\n        font-family: system-ui, -apple-system, sans-serif;\n        line-height: 1.6;\n        transition: background-color 0.25s ease, color 0.25s ease;\n      }\n\n      *, *::before, *::after {\n        box-sizing: inherit;\n      }\n\n      body {\n        padding: 0.75rem;\n        display: flex;\n        flex-direction: column;\n        caret-color: var(--editor-accent);\n      }\n\n      [contenteditable]:focus {\n        outline: none;\n      }\n\n      /* üëá Force caret (text cursor) to stay blue across all blocks */\n      p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, table, li {\n        caret-color: var(--editor-accent);\n      }\n\n      p, h1, h2, h3, h4, h5, h6, pre, blockquote {\n        margin: 0 0 0.8em;\n      }\n\n      a {\n        color: var(--editor-accent);\n        text-decoration: underline;\n      }\n\n      blockquote {\n        border-left: 3px solid var(--editor-accent);\n        padding-left: 1em;\n        opacity: 0.9;\n      }\n\n      pre {\n        background: color-mix(in srgb, var(--editor-accent) 10%, transparent);\n        padding: 0.6em;\n        border-radius: 6px;\n        font-family: ui-monospace, monospace;\n      }\n\n      table {\n        border-collapse: collapse;\n        width: 100%;\n        margin-bottom: 1em;\n      }\n\n      td, th {\n        border: 1px solid color-mix(in srgb, var(--editor-fg) 25%, transparent);\n        padding: 6px;\n      }\n\n      body:empty::before {\n        content: attr(data-placeholder);\n        color: var(--editor-placeholder);\n        pointer-events: none;\n      }\n\n      html, body {\n        transition: background-color 0.25s ease, color 0.25s ease, caret-color 0.25s ease;\n      }\n    </style>\n  </head>\n  <body contenteditable=\"true\" data-placeholder=\"Start typing...\"></body>\n</html>\n`;\n\n    doc.open();\n    doc.write(htmlTemplate);\n    doc.close();\n\n    // ‚úÖ Ensure runtime + HTML are injected only once iframe DOM is fully parsed\n    iframe.onload = () => {\n      if (!this.doc?.body) return;\n\n      // Inject the initial HTML safely\n      this.doc.body.innerHTML = this.html;\n\n      // Inject runtime script\n      const runtimeScript = this.doc.createElement(\"script\");\n      runtimeScript.type = \"text/javascript\";\n      runtimeScript.textContent = `(${editorRuntimeInit.toString()})();`;\n      this.doc.body.appendChild(runtimeScript);\n\n      // Mark ready and sync initial state\n      this.isReady = true;\n      this.emit(\"ready\", \"\");\n    };\n\n    // üß† Setup listener bridge\n    window.addEventListener(\"message\", this.handleMessage);\n    // üß† Ensure runtime gets the HTML even if IFRAME_READY was missed\n    const ensureSetHTML = setInterval(() => {\n      if (this.isReady && this.win) {\n        this.post(\"SET_HTML\", { html: this.html });\n        clearInterval(ensureSetHTML);\n      }\n    }, 150);\n  }\n\n  /**\n   * üì° Message handler for runtime communication.\n   */\n  private handleMessage = (e: MessageEvent) => {\n    const data = e.data || {};\n    switch (data.type) {\n      case \"IFRAME_READY\":\n        this.isReady = true;\n        this.post(\"SET_HTML\", { html: this.html });\n        this.emit(\"ready\", \"\");\n        break;\n\n      case \"UPDATE\":\n        this.html = data.html;\n        this.emit(\"update\", this.html);\n        break;\n\n      case \"CONTEXT\":\n        this.emit(\"context\", data);\n        break;\n\n      case \"UNDO_REDO_STATE\":\n        this.emit(\"undoRedo\", { canUndo: data.canUndo, canRedo: data.canRedo });\n        break;\n\n      case \"IFRAME_ERROR\":\n        console.error(\"üõë Iframe error:\", data.message);\n        this.emit(\"error\", data.message);\n        break;\n    }\n  };\n\n  /**\n   * üì® Sends a command or message to the iframe runtime.\n   */\n  post(type: string, payload?: Record<string, unknown>) {\n    if (!this.win) return;\n    this.win.postMessage({ type, ...payload }, \"*\");\n  }\n\n  /**\n   * üß± Replaces the entire iframe content with new HTML.\n   */\n  fromHTML(html: string) {\n    this.html = html;\n    this.post(\"SET_HTML\", { html });\n  }\n\n  /**\n   * üíæ Returns current HTML.\n   */\n  toHTML(): string {\n    return this.doc?.body?.innerHTML?.trim() || this.html;\n  }\n\n  /**\n   * üß© Converts current DOM into structured JSON.\n   */\n  toJSON(): EditorNode[] {\n    if (!this.doc) return [];\n    const root = this.doc.body;\n\n    const traverse = (el: HTMLElement): EditorNode => {\n      const node: EditorNode = { type: el.tagName.toLowerCase() };\n\n      if (el.childElementCount === 0) {\n        node.content = el.innerText;\n      } else {\n        node.children = Array.from(el.children).map((c) =>\n          traverse(c as HTMLElement)\n        );\n      }\n\n      if (el.tagName.match(/^H[1-6]$/))\n        node.attrs = { level: Number(el.tagName.replace(\"H\", \"\")) };\n\n      if (el.tagName === \"A\")\n        node.attrs = { ...(node.attrs || {}), href: el.getAttribute(\"href\") };\n\n      if (el.tagName === \"IMG\")\n        node.attrs = {\n          ...(node.attrs || {}),\n          src: el.getAttribute(\"src\"),\n          alt: el.getAttribute(\"alt\"),\n        };\n\n      return node;\n    };\n\n    return Array.from(root.children).map((c) => traverse(c as HTMLElement));\n  }\n\n  /** ‚úÖ Typed Event Registration */\n  on<K extends keyof EditorEvents>(\n    type: K,\n    fn: (data: EditorEvents[K]) => void\n  ) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n    (this.listeners[type] as Array<(data: EditorEvents[K]) => void>).push(fn);\n  }\n\n  /** ‚úÖ Typed Event Emitter */\n  emit<K extends keyof EditorEvents>(type: K, payload: EditorEvents[K]) {\n    const handlers = this.listeners[type];\n    if (handlers) {\n      handlers.forEach((handler) => handler(payload));\n    }\n  }\n\n  /**\n   * üßπ Cleanup method for when editor is unmounted.\n   */\n  destroy() {\n    window.removeEventListener(\"message\", this.handleMessage);\n    this.listeners = {};\n    this.isReady = false;\n    this.win = null;\n    this.doc = null;\n  }\n}\n","// src/editor/hooks/use-editor-chain.ts\n\"use client\";\nimport * as React from \"react\";\nimport { EditorChain } from \"@/core/chain\";\nimport { useEditor } from \"@/context/editor\";\n\nexport function useEditorChain() {\n  const { iframeRef } = useEditor();\n  const [chain, setChain] = React.useState<EditorChain | null>(null);\n\n  // initialize chain once iframe is loaded\n  React.useEffect(() => {\n    const win = iframeRef.current?.contentWindow;\n    if (win && !chain) {\n      setChain(new EditorChain(win));\n    }\n  }, [iframeRef, chain]);\n\n  // central execute handler\n  const execute = React.useCallback(\n    (action: string, ...args: any[]) => {\n      if (!chain) return;\n      const fn = (chain as any)[action];\n      if (typeof fn === \"function\") {\n        const result = fn.apply(chain, args);\n        if (result?.run) result.run();\n      } else {\n        console.warn(`No chain method found for: ${action}`);\n      }\n    },\n    [chain]\n  );\n\n  return { chain, execute };\n}\n","// src/core/chain.ts\nexport class EditorChain {\n  private target: Window | null;\n  private queue: Array<Record<string, unknown>> = [];\n\n  constructor(target: Window | null) {\n    this.target = target;\n  }\n\n  private post(msg: Record<string, unknown>) {\n    if (!this.target) return;\n    this.queue.push(msg);\n    return this;\n  }\n\n  // Executes queued commands in order\n  run() {\n    if (!this.target) return;\n    for (const msg of this.queue) this.target.postMessage(msg, \"*\");\n    this.queue = [];\n  }\n\n  // Inline commands\n  exec(cmd: string, value?: string) {\n    return this.post({ type: \"EXEC\", cmd, value });\n  }\n\n  undo() {\n    this.target?.postMessage({ type: \"EXEC\", cmd: \"undo\" }, \"*\");\n    return this;\n  }\n\n  redo() {\n    this.target?.postMessage({ type: \"EXEC\", cmd: \"redo\" }, \"*\");\n    return this;\n  }\n\n  bold() {\n    return this.exec(\"bold\");\n  }\n  italic() {\n    return this.exec(\"italic\");\n  }\n  underline() {\n    return this.exec(\"underline\");\n  }\n  strike() {\n    return this.exec(\"strikeThrough\");\n  }\n\n  // Block formats\n  heading(level: 1 | 2 | 3 | 4 | 5 | 6) {\n    return this.post({ type: \"FORMAT_BLOCK\", block: `H${level}` });\n  }\n  paragraph() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"P\" });\n  }\n  quote() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"BLOCKQUOTE\" });\n  }\n  codeBlock() {\n    return this.post({ type: \"FORMAT_BLOCK\", block: \"PRE\" });\n  }\n\n  // Lists\n  bulletList() {\n    return this.exec(\"insertUnorderedList\");\n  }\n  orderedList() {\n    return this.exec(\"insertOrderedList\");\n  }\n  indent() {\n    this.target?.postMessage({ type: \"CUSTOM_INDENT\" }, \"*\");\n    return this;\n  }\n  outdent() {\n    this.target?.postMessage({ type: \"CUSTOM_OUTDENT\" }, \"*\");\n    return this;\n  }\n\n  // Align\n  alignLeft() {\n    return this.exec(\"justifyLeft\");\n  }\n  alignCenter() {\n    return this.exec(\"justifyCenter\");\n  }\n  alignRight() {\n    return this.exec(\"justifyRight\");\n  }\n\n  // Colors\n  color(value: string) {\n    return this.exec(\"foreColor\", value);\n  }\n  highlight(value: string) {\n    return this.exec(\"hiliteColor\", value);\n  }\n\n  // Links\n  link(url: string) {\n    return this.exec(\"createLink\", url);\n  }\n  unlink() {\n    return this.exec(\"unlink\");\n  }\n\n  // Raw HTML\n  insertHTML(html: string) {\n    return this.post({ type: \"INSERT_HTML\", html });\n  }\n  setHTML(html: string) {\n    return this.post({ type: \"SET_HTML\", html });\n  }\n\n  insertTable(rows: number, cols: number) {\n    this.target?.postMessage({ type: \"INSERT_TABLE\", rows, cols }, \"*\");\n    return this;\n  }\n\n  // Helpers\n  clear() {\n    return this.exec(\"removeFormat\");\n  }\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        primary: \"bg-blue-600 hover:bg-blue-600/70 text-white\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-7\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Separator };\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  );\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","// toolbar.tsx\n\"use client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport type { SeparatorProps } from \"@radix-ui/react-separator\";\nimport * as React from \"react\";\n\ninterface ToolbarWrapperProps\n  extends Omit<React.ComponentProps<\"div\">, \"children\"> {\n  children?: React.ReactNode;\n}\n\nconst ToolbarWrapper = React.forwardRef<HTMLDivElement, ToolbarWrapperProps>(\n  ({ children, className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center transform transition ease-in-out duration-300\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nToolbarWrapper.displayName = \"ToolbarWrapper\";\n\nconst ToolbarGroup = React.forwardRef<HTMLDivElement, ToolbarWrapperProps>(\n  ({ children, className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center gap-1 transform transition ease-in-out duration-300\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nToolbarGroup.displayName = \"ToolbarGroup\";\n\nexport const ToolbarButtonSeparator: React.FC<SeparatorProps> = ({\n  orientation = \"vertical\",\n}) => {\n  return (\n    <Separator\n      orientation={orientation}\n      role=\"separator\"\n      style={{ height: \"2rem\" }}\n      className=\"border border-border border-l-0 border-y-0 w-px\"\n    />\n  );\n};\n\nexport const ToolbarButton = React.forwardRef<\n  HTMLButtonElement,\n  ToolbarButtonProps\n>(\n  (\n    {\n      children,\n      onClick,\n      active = false,\n      toolButtonSize = \"sm\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const sizeClasses = {\n      sm: { style: \"px-3 py-1 rounded-sm\", size: \"icon-sm\" },\n      md: { style: \"px-4 py-2 rounded-md\", size: \"icon\" },\n      xs: { style: \"px-2 py-0.5 rounded\", size: \"icon-xs\" },\n    };\n\n    const { style, size } = sizeClasses[toolButtonSize];\n\n    const button = (\n      <Button\n        size={size as \"icon-xs\" | \"icon-sm\" | \"icon\"}\n        onMouseDown={(e) => e.preventDefault()}\n        onClick={onClick}\n        variant=\"outline\"\n        ref={ref}\n        data-active={active}\n        className={cn(\n          `rounded border cursor-pointer text-sm disabled:cursor-not-allowed data-[active=true]:bg-accent data-[active=true]:text-foreground text-foreground/80 hover:text-foreground`,\n          className,\n          style\n        )}\n        {...props}\n      >\n        {children}\n      </Button>\n    );\n\n    if (!tooltip) return button;\n    return (\n      <TooltipProvider delayDuration={250}>\n        <Tooltip>\n          <TooltipTrigger asChild>{button}</TooltipTrigger>\n          <TooltipContent\n            side=\"top\"\n            align=\"end\"\n            className=\"text-xs font-medium\"\n          >\n            {tooltip}\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    );\n  }\n);\n\nToolbarButton.displayName = \"ToolbarButton\";\n\nexport { ToolbarWrapper, ToolbarGroup };\n","import { useEditorChain } from \"@/hooks/chain-execute\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { Redo2, Undo2 } from \"lucide-react\";\n\nexport const HistorySection: React.FC<ToolbarHistoryProps> = ({\n  ctx,\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        tooltip=\"Undo\"\n        disabled={!ctx.canUndo}\n        onClick={() => execute(\"undo\")}\n        toolButtonSize={size}\n        className=\"rounded\"\n      >\n        <Undo2 />\n      </ToolbarButton>\n      <ToolbarButton\n        tooltip=\"Redo\"\n        toolButtonSize={size}\n        disabled={!ctx.canRedo}\n        onClick={() => execute(\"redo\")}\n        className=\"rounded\"\n      >\n        <Redo2 />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n","import React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\n\nexport const IndentOutdentSection: React.FC<IndentOutdentSectionProps> = ({\n  ctx,\n  size,\n}) => {\n  const { execute } = useEditorChain();\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        toolButtonSize={size}\n        tooltip=\"Indent\"\n        disabled={ctx?.isIndented}\n        onClick={() => execute(\"indent\")}\n      >\n        <Indent />\n      </ToolbarButton>\n      <ToolbarButton\n        toolButtonSize={size}\n        tooltip=\"Outdent\"\n        disabled={!ctx?.isIndented}\n        onClick={() => execute(\"outdent\")}\n      >\n        <Outdent />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n\nconst Indent = ({ ...props }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n      fill=\"currentColor\"\n    >\n      <path d=\"M1.75 2a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8.75 5.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8 9.75a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75\" />\n      <path d=\"M1.75 12.5a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M1 10.407c0 .473.55.755.96.493l3.765-2.408a.578.578 0 0 0 0-.985l-3.765-2.407c-.41-.262-.96.02-.96.493z\" />\n    </svg>\n  );\n};\nconst Outdent = ({ ...props }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n      fill=\"currentColor\"\n    >\n      <path d=\"M1.75 2a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8.75 5.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M8 9.75a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75\" />\n      <path d=\"M1.75 12.5a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z\" />\n      <path d=\"M6 10.407c0 .473-.55.755-.96.493l-3.765-2.408a.578.578 0 0 1 0-.985l3.765-2.407c.41-.262.96.02.96.493z\" />\n    </svg>\n  );\n};\n","\"use client\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport * as React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { List, ListOrdered } from \"lucide-react\";\n\nexport const ListSelectorSection: React.FC<ListSelectorSectionProps> = ({\n  ctx,\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n  return (\n    <ToolbarGroup>\n      <ToolbarButton\n        onClick={() => execute(\"bulletList\")}\n        active={ctx.unorderedList as boolean}\n        toolButtonSize={size}\n        tooltip=\"Unordered List\"\n      >\n        <List />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={() => execute(\"orderedList\")}\n        active={ctx.orderedList as boolean}\n        toolButtonSize={size}\n        tooltip=\"Ordered List\"\n      >\n        <ListOrdered />\n      </ToolbarButton>\n    </ToolbarGroup>\n  );\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"../../lib/utils\";\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  );\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />;\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n","import { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Table } from \"lucide-react\";\nimport * as React from \"react\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\n\ninterface TablePickerProps\n  extends Omit<React.ComponentProps<typeof Button>, \"onSelect\"> {\n  onSelect?: (rows: number, cols: number) => void;\n}\n\nexport const TablePicker = React.forwardRef<\n  HTMLButtonElement,\n  TablePickerProps\n>(({ onSelect, ...buttonProps }, ref) => {\n  const [open, setOpen] = React.useState(false);\n  const [table, setTable] = React.useState({ rows: 2, cols: 2 });\n\n  const maxRows = 10;\n  const maxCols = 10;\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <ToolbarButton\n          ref={ref}\n          toolButtonSize=\"xs\"\n          tooltip=\"Insert Table\"\n          data-active={open}\n          {...buttonProps}\n        >\n          <Table />\n        </ToolbarButton>\n      </PopoverTrigger>\n      <PopoverContent>\n        {Array.from({ length: maxRows }).map((_, r) => (\n          <div key={r} className=\"flex space-y-0.5 space-x-0.5 mx-auto w-full\">\n            {Array.from({ length: maxCols }).map((_, c) => {\n              // active if less or equal, so user can see rectangular selection\n              const active = r <= table.rows && c <= table.cols;\n              return (\n                <div\n                  key={c}\n                  onMouseEnter={() => setTable({ rows: r, cols: c })}\n                  onClick={() => {\n                    onSelect?.(r + 1, c + 1);\n                    setOpen(false);\n                  }}\n                  data-active={active}\n                  className={`w-5 h-5 border cursor-pointer bg-transparent hover:bg-gray-200 data-[active=true]:ring-1 data-[active=true]:ring-blue-500 data-[active=true]:bg-accent`}\n                />\n              );\n            })}\n          </div>\n        ))}\n        <Separator className=\"w-full\" />\n        <div className=\"text-xs text-muted-foreground mt-2\">\n          {table.rows + 1} √ó {table.cols + 1}\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n});\n\nTablePicker.displayName = \"TablePicker\";\n","\"use client\";\nimport * as React from \"react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\nimport { TextAlignStart, TextAlignCenter, TextAlignEnd } from \"lucide-react\";\n\nimport { useEditorChain } from \"@/hooks/chain-execute\";\n\nexport const TextAlignerSection: React.FC<TextAlignerSectionProps> = ({\n  size = \"sm\",\n  ctx,\n  ...props\n}) => {\n  const [_open, _setOpen] = React.useState(false);\n  const { execute } = useEditorChain();\n\n  const alignOptions = [\n    {\n      cmd: \"alignLeft\",\n      tooltip: \"Align Left\",\n      icon: <TextAlignStart className=\"w-4 h-4\" />,\n      active: ctx?.justifyLeft,\n    },\n    {\n      cmd: \"alignCenter\",\n      tooltip: \"Align Center\",\n      icon: <TextAlignCenter className=\"w-4 h-4\" />,\n      active: ctx?.justifyCenter,\n    },\n    {\n      cmd: \"alignRight\",\n      tooltip: \"Align Right\",\n      icon: <TextAlignEnd className=\"w-4 h-4\" />,\n      active: ctx?.justifyRight,\n    },\n  ];\n\n  // Pick icon for trigger based on current active alignment\n  const activeAlign = alignOptions.find((a) => a.active)?.icon || (\n    <TextAlignStart className=\"w-4 h-4\" />\n  );\n\n  return (\n    <DropdownMenu open={_open} onOpenChange={_setOpen}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton\n          {...props}\n          tooltip=\"Text Alignment\"\n          data-active={_open}\n          toolButtonSize={size}\n        >\n          {activeAlign}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        align=\"center\"\n        className=\"flex gap-1 p-2 min-w-0 bg-background/95 backdrop-blur-md rounded shadow-sm border\"\n      >\n        {alignOptions.map((opt) => (\n          <ToolbarButton\n            key={opt.cmd}\n            tooltip={opt.tooltip}\n            toolButtonSize=\"sm\"\n            active={opt.active}\n            onClick={() => {\n              execute(opt.cmd);\n              _setOpen(!_open);\n            }}\n          >\n            {opt.icon}\n          </ToolbarButton>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-0 origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","\"use client\";\nimport * as React from \"react\";\nimport {\n  Check,\n  ChevronDown,\n  Code,\n  Heading1,\n  Heading2,\n  Heading3,\n  Heading4,\n  Heading5,\n  Heading6,\n  Pilcrow,\n  Quote,\n} from \"lucide-react\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\n\nconst allFormats = [\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [1],\n    tooltip: \"Heading 1\",\n    icon: <Heading1 />,\n    activeKey: \"isHeading1\",\n    style: \"text-3xl font-bold leading-tight tracking-tight text-foreground\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [2],\n    tooltip: \"Heading 2\",\n    icon: <Heading2 />,\n    activeKey: \"isHeading2\",\n    style: \"text-2xl font-semibold leading-snug tracking-tight text-foreground\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [3],\n    tooltip: \"Heading 3\",\n    icon: <Heading3 />,\n    activeKey: \"isHeading3\",\n    style: \"text-xl font-semibold leading-snug text-foreground\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [4],\n    tooltip: \"Heading 4\",\n    icon: <Heading4 />,\n    activeKey: \"isHeading4\",\n    style: \"text-lg font-medium leading-relaxed text-foreground\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [5],\n    tooltip: \"Heading 5\",\n    icon: <Heading5 />,\n    activeKey: \"isHeading5\",\n    style: \"text-base font-medium leading-relaxed text-foreground\",\n  },\n  {\n    type: \"heading\",\n    cmd: \"heading\",\n    args: [6],\n    tooltip: \"Heading 6\",\n    icon: <Heading6 />,\n    activeKey: \"isHeading6\",\n    style:\n      \"text-sm font-semibold uppercase tracking-wide text-muted-foreground\",\n  },\n  {\n    type: \"paragraph\",\n    cmd: \"paragraph\",\n    tooltip: \"Paragraph\",\n    icon: <Pilcrow />,\n    activeKey: \"isParagraph\",\n    style:\n      \"text-base leading-relaxed text-muted-foreground max-w-prose truncate\",\n  },\n  {\n    type: \"blockquote\",\n    cmd: \"quote\",\n    tooltip: \"Blockquote\",\n    icon: <Quote />,\n    activeKey: \"isBlockquote\",\n    style:\n      \"text-base italic border-l-2 border-muted pl-3 text-muted-foreground leading-relaxed\",\n  },\n  {\n    type: \"code\",\n    cmd: \"codeBlock\",\n    tooltip: \"Code Block\",\n    icon: <Code />,\n    activeKey: \"isCodeBlock\",\n    style:\n      \"text-sm font-mono bg-muted rounded px-2 py-1 text-foreground truncate\",\n  },\n];\n\nexport const TextFormatSection: React.FC<TextFormatSectionProps> = ({\n  ctx,\n  format = {\n    heading: [1, 2, 3],\n    code: false,\n    blockquote: false,\n    paragraph: true,\n  },\n  size = \"sm\",\n}) => {\n  const { execute } = useEditorChain();\n\n  const visibleFormats = React.useMemo(() => {\n    return allFormats.filter((btn) => {\n      switch (btn.type) {\n        case \"heading\":\n          return format.heading?.includes(btn.args?.[0] as Heading);\n        case \"paragraph\":\n          return !!format.paragraph;\n        case \"blockquote\":\n          return !!format.blockquote;\n        case \"code\":\n          return !!format.code;\n        default:\n          return false;\n      }\n    });\n  }, [format]);\n\n  const currentActive = visibleFormats.find(\n    (btn) => ctx[btn.activeKey as keyof typeof ctx]\n  );\n\n  const currentLabel = currentActive?.tooltip || \"Format\";\n\n  const sizeClasses = {\n    sm: \"px-2 h-8 text-sm gap-1.5\",\n    md: \"px-3 h-9 text-base gap-2\",\n    xs: \"px-1.5 h-7 text-xs gap-1\",\n  };\n\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger\n            className={`flex items-center justify-between gap-1 border border-border rounded ${sizeClasses[size]} text-muted-foreground hover:bg-muted hover:text-foreground transition-colors focus-visible:ring-1 focus-visible:ring-ring focus:outline-none min-w-[6rem]`}\n          >\n            {currentLabel}\n            <ChevronDown className=\"w-4 h-4 opacity-70\" strokeWidth={2} />\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n        <TooltipContent side=\"bottom\">Select Text format</TooltipContent>\n      </Tooltip>\n\n      <DropdownMenuContent align=\"center\" className=\"min-w-10 space-y-0.5\">\n        {visibleFormats.map((btn) => {\n          const active = Boolean(ctx[btn.activeKey as keyof typeof ctx]);\n          return (\n            <DropdownMenuItem\n              key={btn.tooltip}\n              onClick={() => execute(btn.cmd, ...(btn.args || []))}\n              data-active={active}\n              className={`flex hover:bg-muted/70 data-[active=true]:text-accent-foreground data-[active=true]:bg-accent items-center justify-between gap-2 px-2 py-1.5 cursor-pointer transition-colors ease-in-out duration-150`}\n            >\n              <span className={cn(\"flex items-center gap-2\", btn?.style)}>\n                {btn.icon}\n                {btn.tooltip}\n              </span>\n              {active && <Check className=\"w-4 h-4 text-blue-500\" />}\n            </DropdownMenuItem>\n          );\n        })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n","\"use client\";\nimport * as React from \"react\";\nimport { ToolbarButton, ToolbarGroup } from \"../toolbar/toolbar\";\nimport { useEditorChain } from \"@/hooks/chain-execute\";\nimport { Bold, Italic, Palette, Underline } from \"lucide-react\";\nimport { ColorHighlighter } from \"@/components/richtext/ui/color-picker\";\n\nconst styleButtons = [\n  {\n    type: \"bold\",\n    cmd: \"bold\",\n    tooltip: \"Bold\",\n    icon: <Bold />,\n    activeKey: \"bold\",\n    action_type: \"button\",\n  },\n  {\n    type: \"italic\",\n    cmd: \"italic\",\n    tooltip: \"Italic\",\n    icon: <Italic />,\n    activeKey: \"italic\",\n    action_type: \"button\",\n  },\n  {\n    type: \"underline\",\n    cmd: \"underline\",\n    tooltip: \"Underline\",\n    icon: <Underline />,\n    activeKey: \"underline\",\n    action_type: \"button\",\n  },\n];\n\nexport const StyleFormatSection: React.FC<StyleFormatSectionProps> = ({\n  ctx,\n  size = \"sm\",\n  highlighter = true,\n}) => {\n  const [isBackground, setIsBackground] = React.useState(\"text\");\n  const { execute } = useEditorChain();\n\n  const handleUpdateColor = (color: string) => {\n    const cmd = isBackground === \"text\" ? \"color\" : \"highlight\";\n    execute(cmd, color);\n  };\n  return (\n    <ToolbarGroup>\n      {/* Actionable text-style buttons */}\n      {styleButtons.map((btn) => (\n        <ToolbarButton\n          key={btn.type}\n          tooltip={btn.tooltip}\n          onClick={() => execute(btn.cmd)}\n          active={Boolean(ctx[btn.activeKey as keyof typeof ctx])}\n          toolButtonSize={size}\n        >\n          {btn.icon}\n        </ToolbarButton>\n      ))}\n      {highlighter && (\n        <ColorHighlighter\n          size=\"xs\"\n          color={ctx.foreColor}\n          icon={Palette}\n          onChange={handleUpdateColor}\n          isBack={isBackground as \"text\" | \"background\"}\n          onChangeIsBackground={() =>\n            setIsBackground(isBackground === \"text\" ? \"background\" : \"text\")\n          }\n        />\n      )}\n    </ToolbarGroup>\n  );\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"../../ui/popover\";\nimport { SketchPicker, type ColorResult } from \"react-color\";\nimport { Check } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../ui/tabs\";\nimport { ToolbarButton } from \"../toolbar/toolbar\";\n\nexport const ColorHighlighter = React.forwardRef<\n  HTMLButtonElement,\n  ColorHighlighterProps\n>(\n  (\n    {\n      color,\n      onChange,\n      disabled,\n      className,\n      isBack,\n      onChangeIsBackground,\n      icon,\n      size = \"sm\",\n      ...props\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = React.useState(false);\n    const [tempColor, setTempColor] = React.useState(color || \"#000000\");\n    const IconComponent = icon || Check;\n\n    const handleChange = (clr: ColorResult) => {\n      setTempColor(clr.hex);\n    };\n\n    const handleComplete = (clr: ColorResult) => {\n      setTempColor(clr.hex);\n      onChange?.(clr.hex);\n    };\n\n    return (\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\n        <PopoverTrigger\n          className={cn(\n            \"px-0.5 p-0 flex items-center data-[state=open]:bg-accent\",\n            className\n          )}\n          ref={ref}\n          disabled={disabled}\n          asChild\n        >\n          <ToolbarButton toolButtonSize={size} tooltip=\"Color\" {...props}>\n            <IconComponent color=\"currentColor\" />\n          </ToolbarButton>\n        </PopoverTrigger>\n\n        <PopoverContent\n          className=\"p-2 w-[260px] bg-background shadow-lg border border-border rounded\"\n          align=\"end\"\n        >\n          <Tabs\n            value={isBack}\n            onValueChange={(value) =>\n              onChangeIsBackground?.(value as \"text\" | \"background\")\n            }\n          >\n            <TabsList className=\"w-full rounded bg-accent\">\n              <TabsTrigger\n                value=\"text\"\n                className=\"w-full cursor-pointer rounded\"\n              >\n                Text\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"background\"\n                className=\"w-full cursor-pointer rounded\"\n              >\n                Background\n              </TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"text\">\n              <Picker\n                handleChange={handleChange}\n                handleComplete={handleComplete}\n                color={tempColor}\n              />\n            </TabsContent>\n            <TabsContent value=\"background\">\n              <Picker\n                handleChange={handleChange}\n                handleComplete={handleComplete}\n                color={tempColor}\n              />\n            </TabsContent>\n          </Tabs>\n        </PopoverContent>\n      </Popover>\n    );\n  }\n);\n\nColorHighlighter.displayName = \"ColorHighlighter\";\n\nfunction Picker({\n  handleChange,\n  handleComplete,\n  color,\n}: {\n  handleChange: (clr: ColorResult) => void;\n  handleComplete: (clr: ColorResult) => void;\n  color: string;\n}) {\n  return (\n    <SketchPicker\n      color={color}\n      onChange={handleChange}\n      onChangeComplete={handleComplete}\n      disableAlpha={true}\n      presetColors={[\n        \"#4F46E5\",\n        \"#7C3AED\",\n        \"#EC4899\",\n        \"#F43F5E\",\n        \"#EF4444\",\n        \"#F97316\",\n        \"#F59E0B\",\n        \"#10B981\",\n        \"#06B6D4\",\n        \"#0EA5E9\",\n        \"#3B82F6\",\n        \"#64748B\",\n        \"#000000\",\n        \"#FFFFFF\",\n      ]}\n      styles={{\n        default: {\n          picker: {\n            padding: \"0px\",\n            maxWidth: \"100%\",\n            width: \"250px\",\n            background: \"inherit\",\n            boxShadow: \"none\",\n            borderRadius: \"12px\",\n            cursor: \"pointer\",\n          },\n          saturation: {\n            borderRadius: \"6px\",\n            marginBottom: \"12px\",\n            boxShadow: \"0 0 0 1px rgba(0,0,0,0.05)\",\n          },\n          controls: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            color: \"inherit\",\n          },\n          color: {\n            color: \"inherit\",\n            background: \"#000\",\n            borderRadius: \"6px\",\n          },\n          activeColor: {\n            borderRadius: \"8px\",\n            border: \"1px solid #444\",\n          },\n          hue: {\n            color: \"inherit\",\n            height: \"12px\",\n            borderRadius: \"8px\",\n          },\n        },\n      }}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","\"use client\";\nimport * as React from \"react\";\nimport { Skeleton } from \"../../ui/skeleton\";\n\n/* ü©∂ Skeleton Loader */\nexport const EditorSkeleton: React.FC<{ animation?: string }> = ({\n  animation = \"pulse\",\n}) => {\n  const base = \"w-full bg-muted\";\n  const animationClass =\n    animation === \"shine\"\n      ? \"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent\"\n      : \"animate-pulse\";\n\n  return (\n    <div\n      className={`border border-border w-full rounded-md overflow-hidden bg-background ${animationClass}`}\n    >\n      {/* Toolbar Skeleton */}\n      <div className=\"flex items-center gap-2 relative px-2 py-1\">\n        {[1, 2, 3, 4, 5, 6, 7, 8].map((width) => (\n          <Skeleton\n            className={`${base} h-7 ${\n              width === 3 ? \"w-16 lg:w-20\" : \"w-7 lg:w-8\"\n            }  lg:h-8`}\n            key={width}\n          />\n        ))}\n        <Skeleton className=\"absolute right-1\" />\n      </div>\n      <div className=\"h-px bg-border\" />\n      <div className={`${base} h-64`} />\n    </div>\n  );\n};\n\n/* ‚ö™ Dots Loader */\nexport const DotsLoader: React.FC = () => (\n  <div className=\"flex flex-col items-center justify-center h-48 w-full border border-border rounded-md bg-white\">\n    <div className=\"flex space-x-2\">\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]\" />\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]\" />\n      <span className=\"w-3 h-3 bg-gray-400 rounded-full animate-bounce\" />\n    </div>\n    <p className=\"text-xs text-muted-foreground mt-3\">Loading editor...</p>\n  </div>\n);\n\n/* üåÄ Spinner Loader */\nexport const SpinnerLoader: React.FC = () => (\n  <div className=\"flex items-center justify-center h-48 w-full border border-border rounded-md bg-white\">\n    <div className=\"w-6 h-6 border-4 border-gray-300 border-t-gray-700 rounded-full animate-spin\" />\n  </div>\n);\n\n/* Tailwind CSS (add to globals.css or tailwind.config.js)\n---------------------------------------------------------\n@keyframes shimmer {\n  100% {\n    transform: translateX(100%);\n  }\n}\n--------------------------------------------------------- */\n","// ToolbarChain.tsx\n\"use client\";\nimport * as React from \"react\";\nimport { useEditor } from \"@/context/editor\";\nimport { EditorChain } from \"@/core/chain\";\nimport { Ban, Minus } from \"lucide-react\";\nimport { TablePicker } from \"../ui/table-picker\";\n\nimport {\n  ToolbarButtonSeparator,\n  ToolbarWrapper,\n  ToolbarButton,\n} from \"./toolbar\";\nimport { HistorySection } from \"../ui/history\";\nimport { StyleFormatSection } from \"../ui/text-style\";\nimport { TextFormatSection } from \"../ui/text-format\";\nimport { ListSelectorSection } from \"../ui/list-selector\";\nimport { IndentOutdentSection } from \"../ui/indent-outdent\";\nimport { TextAlignerSection } from \"../ui/text-aligner\";\n\nexport const ToolbarChain: React.FC<ToolbarChainProps> = ({ format }) => {\n  const { iframeRef, ctx } = useEditor();\n  const [chain, setChain] = React.useState<EditorChain | null>(null);\n\n  // üß† Initialize chain only after iframe is mounted\n  React.useEffect(() => {\n    const timer = setInterval(() => {\n      if (iframeRef.current?.contentWindow && !chain) {\n        setChain(new EditorChain(iframeRef.current.contentWindow));\n      }\n    }, 500);\n    return () => clearInterval(timer);\n  }, [iframeRef, chain]);\n\n  return (\n    <ToolbarWrapper className=\"flex flex-wrap gap-2 border-b py-1 px-2\">\n      <HistorySection ctx={ctx} size=\"xs\" />\n      <ToolbarButtonSeparator orientation=\"vertical\" />\n      <TextFormatSection ctx={ctx} size=\"xs\" format={format} />\n      <StyleFormatSection ctx={ctx} size=\"xs\" />\n      <ToolbarButtonSeparator orientation=\"vertical\" />\n      <ListSelectorSection ctx={ctx} size=\"xs\" />\n      <IndentOutdentSection size=\"xs\" ctx={ctx} />\n      <TextAlignerSection ctx={ctx} size=\"xs\" />\n      <TablePicker\n        variant=\"outline\"\n        size=\"icon-xs\"\n        onSelect={(rows, cols) => {\n          const win = iframeRef.current?.contentWindow;\n          const body = win?.document?.body;\n          body?.focus();\n\n          chain?.insertTable(rows, cols)?.run();\n        }}\n      />\n      <ToolbarButton\n        toolButtonSize=\"xs\"\n        tooltip=\"Add Divider\"\n        onClick={() => chain?.insertHTML(\"<hr>\")?.run()}\n      >\n        <Minus />\n      </ToolbarButton>\n      <ToolbarButton\n        toolButtonSize=\"xs\"\n        tooltip=\"Clear\"\n        onClick={() => chain?.clear()?.run()}\n      >\n        <Ban />\n      </ToolbarButton>\n    </ToolbarWrapper>\n  );\n};\n"],"mappings":"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","names":["React","React","jsx","jsx","jsx","jsxs","React","jsx","jsxs","jsx","jsxs","jsx","jsxs","jsx","jsxs","jsx","React","jsx","jsxs","_","React","jsx","jsxs","jsx","jsx","jsx","jsxs","_a","React","jsx","jsxs","React","React","Check","jsx","jsx","jsxs","Check","jsx","jsxs","jsx","jsx","jsxs","React","jsx","jsxs","jsx"]}